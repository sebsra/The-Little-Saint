"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1656,3053],{66605:function(e,t,n){n.d(t,{P9:function(){return p},Vw:function(){return m},aP:function(){return f},cE:function(){return g},fg:function(){return h},us:function(){return x}});var r=n(5362),i=n(27218),s=n(6385),a=n(13262),o=n(10228),l=n(77930),c=n(7653),d=n(19132),u=n(22534);let f=e=>{let{activeOrganization:t}=(0,i.t)(),n=null==t?void 0:t.uuid,s=!!(t&&e.length>0),o=(0,c.useMemo)(()=>e.map(e=>"/api/organizations/".concat(n,"/sync/chat/").concat(e)),[n,e]),l=(0,c.useMemo)(()=>({queryKey:e.map(e=>[a.cF,{orgUuid:n,syncSourceUuid:e}]),enabled:s,refetchInterval:e=>!!(e.state.data&&(0,d.sf)(e.state.data))&&5e3,meta:{noToast:!0}}),[s,n,e]);return(0,r.Nl)(o,l)},m=e=>!!e.some(e=>e.isLoading)||e.some(e=>e.data&&(0,d.sf)(e.data)),h=e=>Math.ceil(f(e).reduce((e,t)=>{var n,r,i;return t.isLoading||!t.data?e:e+(null!==(i=null===(r=t.data)||void 0===r?void 0:null===(n=r.status)||void 0===n?void 0:n.current_size_bytes)&&void 0!==i?i:0)},0)/s.r6),g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{account:t,activeOrganization:n}=(0,i.t)(),s=null==t?void 0:t.uuid,c=null==n?void 0:n.uuid,f=(0,l.useQueryClient)(),m=(0,d.gb)();return(0,r.uC)(()=>"/api/organizations/".concat(c,"/sync/chat"),"POST",{enabled:!!n,...e,onSuccess:function(){for(var t,n,r,i,l,d=arguments.length,u=Array(d),m=0;m<d;m++)u[m]=arguments[m];let[h]=u;f.setQueryData([a.cF,{orgUuid:c,syncSourceUuid:h.uuid}],h),h.type===o.Fg.GDRIVE&&h.config.uri&&(null===(t=h.status)||void 0===t?void 0:t.extra)&&(null===(n=h.status)||void 0===n?void 0:n.current_size_bytes)&&f.setQueryData([a.HI,{accountUUID:s,orgUUID:c,documentId:h.config.uri}],{uri:"drive:///".concat(h.config.uri),title:null===(i=h.status)||void 0===i?void 0:i.extra,size:null===(l=h.status)||void 0===l?void 0:l.current_size_bytes}),null===(r=e.onSuccess)||void 0===r||r.call(e,...u)},onError:function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];null===(t=e.onError)||void 0===t||t.call(e,...r);let[s,a]=r;m(s,a),a.sync_source_type===o.Fg.GDRIVE&&(0,u.ZZ)(a.sync_source_config.uri)}})},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,i.t)(),n=null==t?void 0:t.uuid,s=(0,l.useQueryClient)();return(0,r.uC)(()=>"/api/organizations/".concat(n,"/sync/chat"),"PUT",{enabled:!!t,...e,onSuccess:function(){for(var t,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];let[l]=i;s.setQueryData([a.cF,{orgUuid:n,syncSourceUuid:l.uuid}],l),null===(t=e.onSuccess)||void 0===t||t.call(e,...i)}})},x=()=>{let{activeOrganization:e}=(0,i.t)(),t=null==e?void 0:e.uuid;return(0,r.uC)(e=>"/api/organizations/".concat(t,"/sync/chat/").concat(e),"DELETE",{enabled:!!e})}},89111:function(e,t,n){n.d(t,{H7:function(){return _},Mr:function(){return j},N:function(){return b},Y$:function(){return N},Yn:function(){return v}});var r,i,s,a,o=n(5362),l=n(27218),c=n(12086),d=n(14448),u=n(13262),f=n(10228),m=n(77930),h=n(81695),g=n(7653),p=n(19132);let x="github_success";(r=s||(s={})).PENDING="pending",r.STARTED="started",r.COMPLETED="completed",r.FAILED="failed",(i=a||(a={})).PATH_NOT_FOUND="path_not_found",i.INVALID_SHA="invalid_sha",i.SIZE_LIMIT_EXCEEDED="size_limit_exceeded",i.SOURCE_MISSING_OR_CHANGED="source_missing_or_changed";let v=function(){let{callerIdentifier:e,toggleGithubModalOpen:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,l.t)(),r=null==n?void 0:n.uuid,i=_(),s=(0,h.useRouter)(),{data:a}=(0,o.WE)("/api/organizations/".concat(r,"/sync/github/auth"),{queryKey:[u.Os,{orgUUID:r}],enabled:!!(n&&i)}),{mutate:d}=(0,o.uC)("/api/organizations/".concat(r,"/sync/github/auth/start"),"POST",{enabled:!!(n&&i),onSuccess:e=>{s.push(e.redirect_url)}}),f="".concat(x,"=").concat(e);(0,p.BZ)({callerIdentifier:e,successParam:x,handleOpen:()=>{null==t||t(!0)}});let m=(0,h.useSearchParams)(),v=(0,g.useRef)(!1),b=(0,h.usePathname)(),j=(0,p.LZ)({pathname:b,searchParams:m,queryString:f});return{isGithubAuthenticated:!!(null==a?void 0:a.is_authenticated),initGithubAuth:()=>{if(i){if((0,c.Rx)()){window.open("/settings/profile?open_in_browser=1&auth_start=github&origin=".concat(j));return}v.current||(v.current=!0,d({pre_auth_state:{origin:j}}))}}}},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,l.t)(),n=null==t?void 0:t.uuid,r=_(),i=(0,m.useQueryClient)();return(0,o.uC)("/api/organizations/".concat(n,"/sync/github/auth"),"DELETE",{enabled:!!(t&&r),...e,onSuccess:function(){for(var t,r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=arguments[a];i.invalidateQueries({queryKey:[u.Os,{orgUUID:n}]}),null===(t=e.onSuccess)||void 0===t||t.call(e,...s)}})},_=()=>{let{data:e}=(0,p.tc)(),t=(0,l.Cf)(),{value:n}=(0,d.F)("nighthawk_enabled"),r=!!(null==e?void 0:e.find(e=>e.type===f.Fg.GITHUB&&e.enabled));return!!(n&&(!t||r))},j=()=>{let{activeOrganization:e}=(0,l.t)(),t=null==e?void 0:e.uuid,n=_();return(0,o.WE)("/api/organizations/".concat(t,"/sync/github/repos"),{queryKey:[u.wD,{orgUUID:t}],enabled:!!(e&&n),meta:{noToast:!0}})},y=e=>{let{owner:t,repo:n,branch:r}=e,{activeOrganization:i}=(0,l.t)(),s=null==i?void 0:i.uuid,a=_(),c=new URLSearchParams({owner:null!=t?t:"",repo:null!=n?n:""}).toString();return(0,o.WE)("/api/organizations/".concat(s,"/sync/github/repo?").concat(c),{queryKey:[u.Rz,{orgUUID:s,owner:t,repo:n}],enabled:!!(t&&n&&!r&&i&&a),meta:{noToast:!0}})},w=e=>{let{owner:t,repo:n,branch:r}=e,{activeOrganization:i}=(0,l.t)(),s=null==i?void 0:i.uuid,a=_();return(0,o.WE)("/api/organizations/".concat(s,"/sync/github/repo/").concat(t,"/").concat(n,"/tree/").concat(r),{queryKey:[u.E0,{orgUUID:s,owner:t,repo:n,branch:r}],staleTime:3e5,enabled:!!(t&&n&&r&&i&&a),meta:{noToast:!0}})},N=e=>{var t;let{owner:n,repo:r,branch:i}=e,s=y({owner:n,repo:r,branch:i}),a=w({owner:n,repo:r,branch:i||(null===(t=s.data)||void 0===t?void 0:t.default_branch)});return{data:{repo:s.data,tree:a.data},isFetching:s.isFetching||a.isFetching,error:s.error||a.error}}},85465:function(e,t,n){n.d(t,{l:function(){return o}});var r=n(10228),i=n(2949),s=n(89111),a=n(74339);let o=()=>{let{initGithubAuth:e}=(0,s.Yn)(),{initDriveAuth:t}=(0,i.nC)();return n=>{n===r.Fg.GITHUB?e():n===r.Fg.GDRIVE?t():n===r.Fg.OUTLINE&&(0,a.fX)()}}},41139:function(e,t,n){n.d(t,{G:function(){return f},k:function(){return m}});var r=n(27573),i=n(27218),s=n(32737),a=n(11510),o=n(40950),l=n(45790),c=n(32559),d=n(53545);let u=e=>{let{intl:t}=e;return(0,r.jsx)(s.u,{tooltipContent:t.formatMessage({defaultMessage:"Claude will guide your learning process instead of just giving answers. You can adjust these instructions in the project anytime.",id:"X9ioIsDrqe"}),side:"right",align:"end",children:(0,r.jsx)(a.k,{size:16,className:"shrink-0"})})},f=(e,t)=>{let n=(0,i.Cf)(),s=(0,o.Z)(),a=(0,d.DU)();e=null!=e?e:null==a?void 0:a.type,t=null!=t?t:null==a?void 0:a.subtype;let f={};return n&&(f.createProjectTitle=s.formatMessage({defaultMessage:"Create a project",id:"HR5A+UPiIu"})),e===c.cd.Student&&(t===c.nL.Study&&(f.createProjectTitle=s.formatMessage({defaultMessage:"Create a study project",id:"aM+8eAE0xv"}),f.createProjectNameLabel=(0,r.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,r.jsx)(l.Z,{defaultMessage:"What course are you studying?",id:"v36OurBGgA"}),(0,r.jsx)(u,{intl:s})]}),f.createProjectDescriptionDefault=s.formatMessage({defaultMessage:"A project for studying your course materials, where Claude helps visualize key concepts, build comprehensive study guides, and tutor you according to your learning needs.",id:"KXxo+Xoski"})),t===c.nL.Career&&(f.createProjectTitle=s.formatMessage({defaultMessage:"Create a career project",id:"so02zrH0dG"}),f.createProjectNameLabel=s.formatMessage({defaultMessage:"What are you working towards?",id:"lqTAz2gpwu"}),f.createProjectDescriptionDefault=s.formatMessage({defaultMessage:"A project for exploring career opportunities, where Claude helps match your skills to potential careers, improve your resume, and develop personalized roadmaps for professional growth.",id:"JlrkubQL9D"})),t===c.nL.Research&&(f.createProjectTitle=s.formatMessage({defaultMessage:"Create a research project",id:"L9PkdSYTu+"}),f.createProjectNameLabel=s.formatMessage({defaultMessage:"What are you researching?",id:"gsRiHcI+J7"}),f.createProjectDescriptionDefault=s.formatMessage({defaultMessage:"A project for developing academic research, where Claude helps identify key themes in your research, create structured outlines, and provide feedback to improve your drafts.",id:"WI7ROAQaAW"}))),f},m=e=>{let t=(0,o.Z)();if(!e)return{};let n=e.type,r=e.subtype,i={};return n===c.cd.Student&&(i.projectKnowledgeTitle=t.formatMessage({defaultMessage:"Reference materials",id:"IAK8rLiiAO"}),i.projectNoChatsMessage=t.formatMessage({defaultMessage:"Start a chat to keep conversations organized and re-use reference materials.",id:"ShAr8vcP2v"}),i.projectNoKnowledgeCantAddMessage=t.formatMessage({defaultMessage:"No reference materials added yet.",id:"2Gz7oaDTj0"}),i.projectKnowledgeDragDropMessage=t.formatMessage({defaultMessage:"Drop files here to add to reference materials",id:"hNUGHHYeEK"}),r===c.nL.Study&&(i.projectNoKnowledgeCanAddMessage=t.formatMessage({defaultMessage:"Drag and drop course materials like syllabi, lecture notes, or text-book excerpts so Claude can help you learn.",id:"hlIot3aXce"})),r===c.nL.Career&&(i.projectNoKnowledgeCanAddMessage=t.formatMessage({defaultMessage:"Drag and drop career materials like your resume, cover letters, or job descriptions to help Claude provide personalized professional advice.",id:"LXnjolwaEB"})),r===c.nL.Research&&(i.projectNoKnowledgeCanAddMessage=t.formatMessage({defaultMessage:"Drag and drop research materials like draft papers, source notes, or literature reviews to help Claude provide targeted academic guidance.",id:"c5oBAmpUAc"}))),i}},18409:function(e,t,n){n.d(t,{c:function(){return o},e:function(){return l}});var r=n(28266),i=n(6766),s=n(27218),a=n(15992);let o=e=>{var t,n;let{config:r}=(0,a.useConfig)("hatch_token_limits"),i=(0,s.Cf)(),o=(0,s.ZJ)(),l=r.get(e||"default",r.get("default",{}));return null!==(n=null==l?void 0:null===(t=l[i?"raven":o?"pro":"free"])||void 0===t?void 0:t.hardLimit)&&void 0!==n?n:9e4},l=(e,t)=>{let n=(0,r.wN)(e),{stickyModelPreference:s}=(0,i.M)();return o(e?n:t||s||n)}},31860:function(e,t,n){n.d(t,{$:function(){return s}});var r=n(27573),i=n(10571);function s(e){let{title:t,url:n,isLoading:s,isError:a,isLink:o=!1,defaultErrorTitle:l,defaultDocumentTitle:c}=e,d=(0,r.jsx)("p",{children:c});return(a?d=(0,r.jsx)("p",{children:l}):!s||t||c?t&&(d=(0,r.jsx)("p",{children:t})):d=(0,r.jsx)(i.g,{className:"opacity-25 rounded-md",height:18}),o&&n)?(0,r.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:d}):d}},71101:function(e,t,n){n.d(t,{C:function(){return o}});var r=n(27573),i=n(2949),s=n(84344),a=n(31860);function o(e){let{uri:t,isError:n,isLink:o=!1}=e,{data:l,isLoading:c}=(0,i.Mv)({documentId:t}),d=(0,s.m)(t);return(0,r.jsx)(a.$,{title:null==l?void 0:l.title,url:d,isLoading:c,isError:n,isLink:o,defaultErrorTitle:"Google Docs"})}},8628:function(e,t,n){n.d(t,{g:function(){return O},o:function(){return K}});var r=n(27573),i=n(8571),s=n(70354),a=n(60949),o=n(11607),l=n(32737),c=n(12459),d=n(30947),u=n(6385);let f=e=>new Intl.NumberFormat().format(e);var m=n(10228),h=n(10484),g=n(35807),p=n(96346),x=n(34174),v=n(13140),b=n(39992),_=n(80151),j=n(67578),y=n(30070),w=n(76203),N=n(6092),k=n(66240),C=n(10607),E=n(7583),S=n(68425),M=n(87590),z=n.n(M),D=n(88146),F=n(7653),A=n(45790),L=n(40950),I=n(89111),Z=n(34326);let P="lastSelectedRepo";function T(e,t){return{name:e,path:t.endsWith("/")?t:t+"/",size:0,children:new Map}}function O(e){var t,n;let{initialConfig:i,tokenLimit:s,alreadyUsedTokens:a,onSubmit:o,isSubmitting:l}=e,[c,d]=(0,F.useState)("/"),f=void 0===i,m=s*u.dS,[h,g]=(0,F.useState)(()=>{if(i)return i;let e=function(){let e=localStorage.getItem(P);if(e){var t;let n=JSON.parse(e);if(n&&"object"==typeof(t=n)&&null!==t&&"string"==typeof t.owner&&"string"==typeof t.repo&&"string"==typeof t.branch)return n}return null}();return e?{owner:e.owner,repo:e.repo,branch:e.branch,filters:{filters:{}}}:{}}),{owner:p,repo:x,branch:v,filters:b}=h;(0,F.useEffect)(()=>{d("/")},[x]);let _=e=>{g({owner:p,repo:x,branch:v,filters:{filters:e}})},j=(0,F.useMemo)(()=>!z()(null==i?void 0:i.filters,b),[i,b]),{data:y,isFetching:w,error:N}=(0,I.Y$)({owner:p,repo:x,branch:v}),k=(0,F.useMemo)(()=>(function(e,t){if(!t||!e)return[];let n=[];for(let r of t.tree)"blob"===r.type&&(0,Z.VG)(e,"/"+r.path)&&n.push(r);return n})(null==b?void 0:b.filters,y.tree),[null==b?void 0:b.filters,y.tree]),C=Math.ceil(100*k.map(e=>e.size).reduce((e,t)=>e+t,0)/m)+Math.ceil(100*a/s),E=(0,F.useMemo)(()=>y.tree?function(e){let t={name:"",path:"/",size:0,children:new Map};for(let n of e.tree){let e=n.path.split("/"),r=e.pop(),i=t;for(let t=0;t<e.length;t++){let r=e[t];if(!i.children.has(r)){let n="/"+e.slice(0,t+1).join("/");i.children.set(r,T(r,n))}"blob"===n.type&&(i.size+=n.size),i=i.children.get(r)}"blob"===n.type?(i.children.set(r,{name:r,path:"/"+n.path,size:n.size}),i.size+=n.size):i.children.set(r,T(r,"/"+n.path))}return t}(y.tree):null,[y.tree]);(0,F.useEffect)(()=>{(null==y?void 0:y.repo)&&(null==y?void 0:y.repo.default_branch)&&!v&&g(e=>({...e,branch:y.repo.default_branch}))},[null==y?void 0:y.repo,v,g]),(0,F.useEffect)(()=>{if(p&&x&&v){var e;e={owner:p,repo:x,branch:v},localStorage.setItem(P,JSON.stringify(e))}},[p,x,v]);let[S,M]=(0,F.useState)("");return(0,r.jsxs)("div",{className:"rounded-xl border-0.5 border-border-300 bg-bg-000 shadow-sm h-[600px] flex flex-col",children:[(0,r.jsx)(q,{isCreating:f,config:h,setConfig:g,searchQuery:S,setSearchQuery:M,isSubmitting:l,percentUsed:C,onSubmit:o,areFiltersDirty:j}),w?(0,r.jsx)(R,{}):null!==N?(0,r.jsx)(U,{error:N}):x&&p&&v?S?(0,r.jsx)(W,{rootNode:E,searchQuery:S,filters:null!==(t=null==b?void 0:b.filters)&&void 0!==t?t:{},setFilters:_,sizeLimit:m,setCurrentDirectory:d,setSearchQuery:M}):(0,r.jsx)(K,{repo:x,rootNode:E,filters:null!==(n=null==b?void 0:b.filters)&&void 0!==n?n:{},setFilters:_,sizeLimit:m,currentDirectory:c,setCurrentDirectory:d}):(0,r.jsx)(G,{}),(0,r.jsx)(Y,{percentUsed:C,selectedPaths:k,alreadyUsedTokens:a,tokenLimit:s})]})}function G(){return(0,r.jsx)("div",{className:"flex items-center justify-center h-full bg-bg-000 text-sm text-text-300 border-border-300 border-t-0.5",children:(0,r.jsx)(A.Z,{defaultMessage:"Select a repository or paste a URL above to get started",id:"aGsfPG9sTD"})})}let R=()=>(0,r.jsxs)("div",{className:"flex items-center justify-center gap-3 h-full bg-bg-000 shadow-sm text-sm text-text-300",children:[(0,r.jsx)("div",{children:(0,r.jsx)(o.Loading,{size:"sm"})}),(0,r.jsx)(A.Z,{defaultMessage:"Fetching repository...",id:"hnjVW1oRt2"})]});function U(e){let{error:t}=e,{githubAppUrl:n}=(0,i.m)(),s="".concat(n,"/installations/select_target"),a=t instanceof d.Hx&&404===t.statusCode,o=t instanceof d.Hx&&"github_get_tree_api_call_limit_exceeded"===t.errorCode;return(0,r.jsx)("div",{className:"flex h-full bg-bg-000 text-sm text-text-300 border-border-300 border-t-0.5",children:(0,r.jsx)("div",{className:"flex items-center gap-2 m-6",children:a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Q,{size:16}),(0,r.jsx)("span",{children:(0,r.jsx)(A.Z,{defaultMessage:"Claude cannot access that resource. If you know that it exists, you may first need to grant or request access <link>here</link>.",id:"41xNOZpKM8",values:{link:e=>(0,r.jsx)(D.default,{href:s,target:"_blank",className:"underline",children:e})}})})]}):o?(0,r.jsx)("span",{className:"text-danger-100",children:(0,r.jsx)(A.Z,{defaultMessage:"Please try a smaller repo.",id:"lvImCTHUvN"})}):(0,r.jsx)("span",{className:"text-danger-100",children:(0,r.jsx)(A.Z,{defaultMessage:"An error occurred while fetching that resource. Please try again.",id:"u8OHhkIcYv"})})})})}function q(e){var t,n;let{config:i,setConfig:a,isCreating:o,isSubmitting:l,percentUsed:d,searchQuery:u,setSearchQuery:f,onSubmit:h,areFiltersDirty:p}=e,[x,v]=(0,F.useState)(!1),[b,_]=(0,F.useState)(!1);return(0,r.jsxs)("div",{className:"flex flex-row gap-2 items-center py-2 min-h-14 px-4 text-sm font-styrene border-b-0.5 border-border-300",children:[(0,r.jsx)(c.j0,{size:18,type:m.Fg.GITHUB,className:"flex-shrink-0"}),!x&&(0,r.jsx)(B,{config:i,setConfig:a,isCreating:o}),(0,r.jsxs)("div",{className:"inline-flex gap-0 items-center",children:[(0,r.jsx)(H,{isCreating:o,isExpanded:x,setIsExpanded:v,setConfig:a,className:(0,C.Z)({"flex-1 flex-shrink":o&&x})}),i.repo&&!x&&(0,r.jsx)(V,{isExpanded:b,setIsExpanded:_,searchQuery:u,setSearchQuery:f,className:"flex-1 flex-shrink"})]}),(0,r.jsx)(E.M,{children:!x&&i.repo&&!(0,Z.xb)(null!==(n=null===(t=i.filters)||void 0===t?void 0:t.filters)&&void 0!==n?n:{})&&(o||p)&&(0,r.jsx)(S.E.div,{className:"ml-auto",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20,stiffness:400,delay:0},children:(0,r.jsx)(s.z,{disabled:l||d>100||!i.owner||!i.repo||!i.branch,onClick:()=>h(i),children:l?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(g.U,{className:"animate-spin"})}):o?(0,r.jsx)(A.Z,{defaultMessage:"Add files",id:"xrAjmQ72mN"}):(0,r.jsx)(A.Z,{defaultMessage:"Update",id:"BWpuKlRSA1"})})})})]})}function B(e){let{config:t,setConfig:n,isCreating:i,className:s}=e,{data:a=[]}=(0,I.Mr)(),o=a.map(e=>({owner:e.owner.login,repo:e.name,branch:e.default_branch}));t.owner&&t.repo&&t.branch&&!o.some(e=>e.repo===t.repo&&e.owner===t.owner&&e.branch===t.branch)&&o.unshift({owner:t.owner,repo:t.repo,branch:t.branch});let[l,c]=(0,F.useState)(void 0);return(0,F.useEffect)(()=>{t.owner&&t.repo&&t.branch?c(JSON.stringify({owner:t.owner,repo:t.repo,branch:t.branch})):c(void 0)},[t]),(0,r.jsx)("div",{className:s,children:(0,r.jsxs)(k.fC,{value:l,onValueChange:e=>{n({...JSON.parse(e),filters:{filters:{}}}),c(e)},disabled:!i,children:[(0,r.jsxs)(k.xz,{className:(0,C.Z)("flex flex-row rounded-md border-0.5 px-2 border-border-300 py-1 items-center gap-1 text-nowrap overflow-x-hidden",{"max-w-96  pointer-cursor select-none hover:bg-bg-100 ":i,"bg-bg-100":!i}),children:[(0,r.jsx)(k.B4,{placeholder:"Select a repository"}),i&&(0,r.jsx)(k.JO,{className:"pl-1",children:(0,r.jsx)(p.p,{})})]}),(0,r.jsx)(k.h_,{children:(0,r.jsx)(k.VY,{className:"border-0.5 border-border-300 bg-bg-100 min-w-72 rounded-lg shadow-sm z-dropdown mt-1 p-1 max-h-96 overflow-y-auto",position:"popper",children:(0,r.jsx)(k.l_,{className:"overflow-auto",children:o.map((e,t)=>(0,r.jsx)(k.ck,{value:JSON.stringify(e),className:(0,C.Z)("relative flex flex-row p-1.5 cursor-pointer hover:bg-bg-200 focus:outline-none focus:bg-bg-200 rounded-md"),children:(0,r.jsx)(k.eT,{children:(0,r.jsxs)("span",{className:"flex flex-row text-sm items-center ",children:[(0,r.jsxs)("span",{children:[(0,r.jsx)("span",{className:"text-text-300",children:e.owner}),"\xa0",(0,r.jsx)("span",{className:"text-text-500/50",children:"/"}),"\xa0",(0,r.jsx)("span",{className:"text-text-000",children:e.repo})]}),(!i||i&&"master"!==e.branch&&"main"!==e.branch)&&(0,r.jsxs)("span",{className:" flex flex-row font-mono text-xs text-text-300 rounded-full px-1.5 ml-2 gap-1 items-center bg-border-400/[0.03] border-border-300 border-0.5 ",children:[(0,r.jsx)(x.S,{}),e.branch]})]})})},t))})})})]})})}function H(e){let{isCreating:t,isExpanded:n,setIsExpanded:i,setConfig:a,className:o}=e,c=(0,L.Z)(),[d,u]=(0,F.useState)(""),f=()=>{let{owner:e,repo:t,branch:n}=function(e){let t;try{t=new URL(null!=e?e:"")}catch(e){return{}}if("github.com"!==t.hostname)return{};let[,n,r,i,...s]=t.pathname.split("/");return{owner:n,repo:r,location:i,branch:s.join("/").replace(/\/$/,"")}}(d);a({owner:e,repo:t,branch:n,filters:{filters:{}}}),i(!1),u("")};return t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:(0,C.Z)("flex flex-row gap-1 items-center text-sm px-0.5",{"border-0.5 border-border-300 rounded-md h-[29px] w-64 transition":n},o),children:[(0,r.jsx)(l.u,{tooltipContent:"Paste GitHub URL",children:!n&&(0,r.jsx)(s.z,{onClick:()=>i(!n),size:"icon_sm",variant:"ghost",disabled:n,children:(0,r.jsx)(v.a,{size:16})})}),n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{className:"flex-1 border-none bg-transparent bg-none px-0 focus:ring-0 p-0 text-sm ml-2",type:"text",value:d,onChange:e=>u(e.target.value),placeholder:c.formatMessage({defaultMessage:"Paste GitHub URL",id:"RobpzbjbFb"}),autoFocus:!0,onKeyDown:e=>{"Enter"===e.key&&f()}}),d&&(0,r.jsx)(E.M,{children:(0,r.jsx)(S.E.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",damping:20,stiffness:400,delay:0},children:(0,r.jsx)(s.z,{onClick:f,size:"icon_xs",children:(0,r.jsx)(b.U,{})})})})]})]}),n&&(0,r.jsx)(s.z,{onClick:()=>{i(!1),u("")},size:"icon_sm",variant:"ghost",className:"ml-2",children:(0,r.jsx)(_.X,{})})]})}function V(e){let{isExpanded:t,setIsExpanded:n,searchQuery:i,setSearchQuery:a,className:o}=e,c=(0,L.Z)();return(0,r.jsxs)("div",{className:(0,C.Z)("flex flex-row items-center text-sm pl-0 p-1",{"border-0.5 border-border-300 rounded-md h-[29px] transition":t},o),children:[(0,r.jsx)(l.u,{tooltipContent:"Search files",children:(0,r.jsx)(s.z,{onClick:()=>n(!t),size:"icon_sm",variant:"ghost",disabled:t,children:(0,r.jsx)(j.Y,{size:"16"})})}),t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{type:"text",placeholder:c.formatMessage({defaultMessage:"Search files",id:"8xPuGUna7W"}),value:i,className:"flex-1 border-none bg-transparent bg-none px-0 focus:ring-0 p-0 text-sm ",onChange:e=>a(e.target.value),autoFocus:!0}),(0,r.jsx)(s.z,{onClick:()=>{a(""),n(!1)},size:"icon_xs",variant:"ghost",children:(0,r.jsx)(_.X,{})})]})]})}function K(e){let{repo:t,rootNode:n,filters:i,setFilters:s,sizeLimit:o,currentDirectory:l,setCurrentDirectory:c}=e,d=function(e,t){let n=t.split("/").slice(1,-1),r=e;for(let e of n){if(!r.children)return null;r=r.children.get(e)}return r}(n,l),u=(null==d?void 0:d.children)?[...d.children.values()].sort((e,t)=>e.children?t.children?e.path.localeCompare(t.path):-1:1):[],f=(0,F.useMemo)(()=>{let e=[],n=l;for(;n;){let r=n.slice(n.lastIndexOf("/",n.length-2)).slice(1,-1);e.unshift({name:r||t,path:n}),n=(0,Z.Il)(n)}return e},[t,l]),m=d?Q(d,i)?"partial":(0,Z.VG)(i,d.path)?"checked":"unchecked":"unchecked";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2 py-2 px-4 border-b-0.5 border-border-300 bg-bg-100/50 text-sm",children:[d&&(0,r.jsx)(a.g,{checkState:m,onClick:e=>{let{didCheck:t}=e;t?s((0,Z.Yw)(i,d.path)):s((0,Z.F8)(i,d.path))}}),(0,r.jsx)("div",{className:"flex-row gap-1 ",children:f.map((e,t)=>{let{path:n,name:i}=e;return f.length===t+1?(0,r.jsx)("span",{children:i},t):(0,r.jsxs)("span",{className:"first-child:pointer-events-none",children:[(0,r.jsx)("button",{className:"hover:text-text-200 text-text-500 transition",onClick:()=>c(n),children:i}),t<f.length-1&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("span",{className:"mx-1 text-text-500/50",children:"/"})})]},t)})})]},"breadcrumbs")}),(0,r.jsx)("div",{className:"flex flex-col h-full overflow-y-scroll",children:u.map(e=>(0,r.jsx)(X,{node:e,showPath:!1,filters:i,sizeLimit:o,onUpdateFilters:s,onClick:e.children?()=>c(e.path):void 0},e.path))},"rows")]})}function W(e){let{rootNode:t,searchQuery:n,filters:i,setFilters:s,sizeLimit:a,setCurrentDirectory:o,setSearchQuery:l}=e,c=(0,F.useMemo)(()=>{let e=[],r=[t],i=n.toLowerCase();for(;r.length>0&&e.length<50;){let t=r.pop();t.children&&r.push(...t.children.values()),t.path.toLowerCase().includes(i)&&e.push(t)}return e},[n,t]);return(0,r.jsx)("div",{className:"flex flex-col h-full overflow-y-scroll",children:c.slice(0,100).map(e=>(0,r.jsx)(X,{node:e,showPath:!0,filters:i,sizeLimit:a,onUpdateFilters:s,onClick:e.children?()=>{o(e.path),l("")}:void 0,onNavigate:e=>{o(e),l("")}},e.path))},"rows")}function Y(e){let{percentUsed:t,selectedPaths:n,alreadyUsedTokens:i,tokenLimit:s}=e,{progressBarPercentPrimary:a,progressBarPercentSecondary:o}=(0,F.useMemo)(()=>{let e=Math.min(100,Math.ceil(100*i/s));return{progressBarPercentPrimary:Math.min(100,t-e),progressBarPercentSecondary:e}},[t,i,s]),c=(0,r.jsx)(A.Z,{defaultMessage:"{percentUsed}% of capacity used",id:"1VbFlPsYRL",values:{percentUsed:J(t)}});return(0,r.jsxs)("div",{className:(0,C.Z)("flex text-xs items-center justify-between border-border-300 border-t-0.5 py-2 px-4 rounded-b-lg transition",{"bg-danger-100 text-danger-900":t>=100},{"text-text-300":t<100}),children:[n.length&&t<100?(0,r.jsx)("p",{children:(0,r.jsx)(A.Z,{defaultMessage:"{selected, plural, one {# file} other {# files}} selected",id:"F7Bwhc8GRB",values:{selected:n.length}})}):t<100?(0,r.jsx)("p",{children:(0,r.jsx)(A.Z,{defaultMessage:"Select files to add to chat context",id:"t6XeSPdQqI"})}):(0,r.jsxs)("div",{className:"inline-flex gap-2 items-center ",children:[(0,r.jsx)(y.v,{className:"opacity-80",size:14}),(0,r.jsx)("p",{children:(0,r.jsx)(A.Z,{defaultMessage:"Remove some files to stay within size limits",id:"k+ns1o6klw"})})]}),(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)($,{totalPercent:t,secondaryPercent:o}),(0,r.jsx)("span",{className:"min-w-10 text-right",children:o>0?(0,r.jsx)(l.u,{tooltipContent:"".concat(J(o),"% used by other knowledge + ").concat(J(a),"% by this content"),children:(0,r.jsx)("span",{children:c})}):c})]})]})}function Q(e,t){if(void 0===e.children)return!1;if((0,Z.VG)(t,e.path)){for(let n of e.children.values())if(!(0,Z.VG)(t,n.path)||Q(n,t))return!0}else for(let n of e.children.values())if((0,Z.VG)(t,n.path)||Q(n,t))return!0;return!1}function X(e){let{node:t,showPath:n,filters:i,sizeLimit:s,onUpdateFilters:o,onClick:l,onNavigate:c}=e,d=void 0!==t.children,u=(0,Z.VG)(i,t.path),f=Q(t,i);return(0,r.jsxs)("div",{onClick:l,className:(0,C.Z)("group flex justify-start items-center gap-2 py-2 px-4 border-b-0.5 border-border-400 hover:bg-bg-100",{"cursor-pointer":l}),children:[(0,r.jsx)(a.g,{checkState:f?"partial":u?"checked":"unchecked",onClick:e=>{let{didCheck:n}=e;n?o((0,Z.Yw)(i,t.path)):o((0,Z.F8)(i,t.path))}}),void 0===t.children?(0,r.jsx)(w.$,{weight:"light",size:20,className:"flex-shrink-0 text-text-400"}):(0,r.jsx)(N.g,{weight:"fill",className:"flex-shrink-0 text-accent-secondary-200",size:20}),(0,r.jsx)("div",{className:(0,C.Z)("w-5/6 text-text-100 overflow-x-hidden text-ellipsis text-nowrap",{"text-text-200 group-hover:text-text-000":d}),onClick:e=>{d&&l&&(e.stopPropagation(),l())},children:n?(e=>{let t=e.replace(/^\/+|\/+$/g,"").split("/");return(0,r.jsx)("span",{children:t.map((e,n)=>{let i="/"+t.slice(0,n+1).join("/")+"/",s=n===t.length-1,a=!s&&c?e=>{e.stopPropagation(),c(i)}:void 0;return(0,r.jsxs)("span",{children:[(0,r.jsx)(s?"span":"button",{className:(0,C.Z)(s?"text-text-000":"text-text-400",a?"hover:text-text-100 transition":""),onClick:a,children:e}),!s&&(0,r.jsx)("span",{className:"opacity-25 mx-1",children:"/"})]},n)})})})(t.path):t.name}),s&&(0,r.jsxs)("span",{className:"w-1/6 text-text-400 text-xs text-right",children:[J(100*t.size/s),"%"]})]})}function J(e){return 0===e?"0":e<1?"<1":f(Math.ceil(e))}function $(e){let{totalPercent:t,secondaryPercent:n=0}=e,i=t>=100,s=t-n;return(0,r.jsx)("div",{className:"bg-bg-100 border-0.5 border-border-300 w-24 h-2 rounded-full overflow-hidden relative",children:(0,r.jsxs)("div",{className:"absolute inset-0",children:[n>0?(0,r.jsx)("div",{style:{width:"".concat(Math.min(100,Math.max(0,n)),"%")},className:"absolute inset-y-0 left-0 bg-border-400"}):null,s>0?(0,r.jsx)("div",{style:{width:"".concat(Math.min(100-(n||0),Math.max(s>0?4:0,s)),"%"),left:"".concat(n||0,"%")},className:(0,C.Z)("absolute inset-y-0 transition-all",{"bg-danger-100":i,"bg-text-100":!i})}):null]})})}},31275:function(e,t,n){n.d(t,{U:function(){return m}});var r=n(27573),i=n(52939),s=n(6385),a=n(10228),o=n(7653),l=n(66605),c=n(92676),d=n(15350),u=n(18409),f=n(8628);function m(e){let{isOpen:t,onClose:n,onCreated:m,projectUuid:h,location:g,syncSource:p,setIsUploadingGithubSync:x}=e,v=(0,d.mo)(),b=(0,u.e)(null),_="project"===g&&h?v:b,j=(0,d.nR)(h),y=(0,o.useMemo)(()=>{if(h&&void 0!==j){var e;return Math.max(0,j-((null==p?void 0:null===(e=p.status)||void 0===e?void 0:e.current_size_bytes)?p.type===a.Fg.GITHUB?p.status.current_size_bytes/s.dS:p.status.current_size_bytes/s.r6:0))}return 0},[h,j,p]),w=(0,o.useCallback)(e=>{null==m||m(e)},[m]),{mutate:N,isPending:k}=(0,c.gr)(h,{onSuccess:w,onError:()=>null==x?void 0:x(!1)}),{mutate:C,isPending:E}=(0,c.l2)(h,{onSuccess:n}),{mutate:S,isPending:M}=(0,l.cE)({onSuccess:w,onError:()=>null==x?void 0:x(!1)}),{mutate:z,isPending:D}=(0,l.P9)({onSuccess:n}),F=(0,o.useCallback)(e=>{p?("project"===g&&h?C:z)({sync_source_uuid:p.uuid,sync_source_config:e}):(null==x||x(!0),n(),("project"===g&&h?N:S)({sync_source_type:a.Fg.GITHUB,sync_source_config:e}))},[p,g,h,N,C,S,z,n,x]);return(0,r.jsx)(i.u_,{isOpen:t,onClose:n,title:"Add content from GitHub",subtitle:"Select the files you would like to add to this ".concat(h?"project":"chat"),modalSize:"xl",hasCloseButton:!0,autoCloseOnFocusOut:!1,children:(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)(f.g,{initialConfig:null==p?void 0:p.config,tokenLimit:_,alreadyUsedTokens:y,isSubmitting:k||E||M||D,onSubmit:F})})})}},36459:function(e,t,n){n.d(t,{C:function(){return C}});var r=n(27573),i=n(27895),s=n(5984),a=n(45033),o=n(12459),l=n(44512),c=n(14448),d=n(10228),u=n(1154),f=n(30684),m=n(86973),h=n(7653),g=n(40950),p=n(45790),x=n(66605),v=n(92676),b=n(2949),_=n(9677);function j(){let e=(0,b.ez)(),{isDriveSearchEnabled:t,toggleDriveSearchAndIndexingEnabled:n}=(0,b.sv)();return e?(0,r.jsx)("div",{className:"px-2 py-1.5 -mx-1 -mb-1 border-t-0.5 border-border-300 hover:bg-bg-200",children:(0,r.jsxs)(a.hP,{className:"flex flex-row gap-4 cursor-pointer px-2 pt-1 pb-2",onSelect:e=>{e.stopPropagation(),e.preventDefault(),n({searchEnabled:!t})},onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("p",{children:(0,r.jsx)(p.Z,{defaultMessage:"Allow Claude to search",id:"zyxxt7OHPv"})}),(0,r.jsx)("p",{className:"text-xs text-text-400",children:(0,r.jsx)(p.Z,{defaultMessage:"Claude will search for relevant documents",id:"JxbYvAvtdV"})})]}),(0,r.jsx)(_.Z,{checked:t,readOnly:!0})]})}):null}var y=n(71101),w=n(70712),N=n(56767);let k={includeScore:!0,threshold:.3,keys:["title"],ignoreLocation:!0},C=e=>{let{projectUuid:t,trigger:n,align:o,isSubDropdown:u=!1,setIsUploadingDriveSync:f,onCreated:p,isOpen:_,setIsOpen:y,closeWholeDropdown:C=()=>y(!1),shouldAddSyncUponPaste:S}=e,M=(0,g.Z)(),{value:z}=(0,c.F)("kingfisher_prefetch"),{recentDriveDocs:D,isLoading:F}=(0,b.td)(z||_),[A,L]=(0,h.useState)(""),[I,Z]=(0,h.useState)(!1),[P,T]=(0,h.useState)(""),{addError:O}=(0,i.e)(),G=(0,h.useRef)(null),R=(0,h.useRef)(null),U=()=>{f(!0),Z(!0)},q=e=>{null==p||p(e),C(),Z(!1)},B=e=>{f(!1),Z(!1),O((0,N.A)(e))},{mutate:H}=(0,x.cE)({onMutate:U,onSuccess:q,onError:B,meta:{noToast:!0}}),{mutate:V}=(0,v.gr)(t,{onMutate:U,onSuccess:q,onError:B,meta:{noToast:!0}}),K=(0,h.useMemo)(()=>D&&A?new m.Z(D,k).search(A).map(e=>e.item):D,[D,A]),W=A?null==K?void 0:K.slice(0,7):null==D?void 0:D.slice(0,5),Y=e=>{C(),(t?V:H)({sync_source_type:d.Fg.GDRIVE,sync_source_config:{uri:e}})},Q=e=>{let t=(0,w.g)(e);L(e);let n="";if(t)Y(t);else if((0,w.k)(e))n=M.formatMessage({defaultMessage:"Only Google Docs are supported at this time",id:"P3m20xflVA"});else try{new URL(e),n=M.formatMessage({defaultMessage:"Not a valid Google Doc URL",id:"S//j6oF0j8"})}catch(e){}T(n)};(0,l.pp)({target:G,shouldFocus:_}),(0,h.useEffect)(()=>{_||(L(""),Z(!1),T(""))},[_,L,Z,T]);let X=!!t,J=u?a.A2:a.Lt;return(0,r.jsxs)(J,{className:"text-md w-[332px] p-0 overflow-hidden",align:o,trigger:n,onKeyDown:e=>{if(!["Enter","ArrowDown","ArrowUp"].includes(e.key)){var t;null===(t=G.current)||void 0===t||t.focus()}},onFocusOutside:e=>e.preventDefault(),...u?{forceMount:!0}:{open:_,onOpenChange:y,unstyledTrigger:!0},children:[(0,r.jsx)(a.YG,{children:(0,r.jsx)(s.oi,{ref:G,value:A,placeholder:M.formatMessage({defaultMessage:"Search recents or paste URL",id:"jprBObbn5b"}),className:"w-full bg-inherit border-none select-none",onChange:e=>{Q(e.target.value)},onPasteCapture:e=>{if(e.stopPropagation(),!_)return;let t=e.clipboardData.getData("text"),n=(0,w.g)(t);n&&S&&Y(n)},onKeyDown:e=>{if("ArrowLeft"===e.key&&A)e.stopPropagation();else if("Enter"===e.key)Q(e.currentTarget.value);else if("ArrowDown"===e.key&&W&&W.length>0){var t;e.preventDefault(),null===(t=R.current)||void 0===t||t.focus()}},"data-1p-ignore":!0,autoComplete:"off",autoFocus:!0})}),(0,r.jsx)(E,{inputRef:G,firstDocumentRef:R,handleAddDocument:Y,documents:W,isValidatingUrl:I,isFetchingRecentDriveDocs:F,errorMessage:P}),!X&&!A&&(0,r.jsx)(j,{})]})},E=e=>{let{inputRef:t,firstDocumentRef:n,handleAddDocument:i,documents:s,isValidatingUrl:l,isFetchingRecentDriveDocs:c,errorMessage:m}=e,h=l||c&&!s.length,g=!!m,x=!h&&(!s||!s.length);return h?(0,r.jsx)("div",{className:"flex flex-col items-center justify-center h-[220px]",children:(0,r.jsx)(u.$,{className:"animate-spin mx-auto"})}):g?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-[220px] text-center",children:[(0,r.jsx)(f.l,{size:24,className:"text-text-400",weight:"duotone"}),(0,r.jsx)("p",{className:"text-md text-text-400 mt-4",children:(0,r.jsx)(p.Z,{defaultMessage:"Invalid URL",id:"SASA4f9KO3"})}),(0,r.jsx)("p",{className:"text-sm text-danger-200",children:m})]}):x?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-[220px]",children:[(0,r.jsx)(f.l,{size:24,className:"text-text-400",weight:"duotone"}),(0,r.jsx)("p",{className:"text-md text-text-400 mt-4",children:(0,r.jsx)(p.Z,{defaultMessage:"No recents found",id:"2FzJykASLO"})}),(0,r.jsx)("p",{className:"text-sm text-text-500",children:(0,r.jsx)(p.Z,{defaultMessage:"Try pasting the URL instead",id:"jf3/+bX0lc"})})]}):(0,r.jsx)("div",{className:"px-1.5 py-1",children:s.map((e,s)=>{let{uri:l,title:c}=e;return(0,r.jsxs)(a.hP,{className:"!grid-cols-[max-content_auto] hover:text-text-000 hover:bg-bg-200",ref:0===s?n:void 0,onClick:()=>i(l),onKeyDown:e=>{if("ArrowUp"===e.key&&0===s){var n;e.preventDefault(),null===(n=t.current)||void 0===n||n.focus()}},textValue:"",onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),children:[(0,r.jsx)(o.j0,{type:d.Fg.GDRIVE,variant:o.cT.DOCS,size:16}),(0,r.jsx)("span",{className:"truncate",children:null!=c?c:(0,r.jsx)(y.C,{uri:l})})]},l)})})}},90824:function(e,t,n){n.d(t,{n4:function(){return y},wM:function(){return p}});var r=n(27573),i=n(91887),s=n(12459),a=n(13890),o=n(10228),l=n(7653),c=n(40950),d=n(2949),u=n(74339),f=n(85465),m=n(31275),h=n(84344);let g=e=>{let t=(0,c.Z)(),n={[o.co.UNAUTHENTICATED]:t.formatMessage({defaultMessage:"Authentication needed",id:"AYP3OHxyGn"}),[o.co.ACCESS_DENIED]:t.formatMessage({defaultMessage:"Content not accessible",id:"IPK01iLM7n"}),[o.co.DISABLED]:t.formatMessage({defaultMessage:"Feature disabled by organization",id:"0mkp6rxalw"})};return e in n?n[e]:void 0},p=e=>{var t;let{syncSourceType:n,syncStatus:s,title:l,url:c,handleClick:d,isLoading:u,actions:m,isSyncing:h,...p}=e,x=(0,a.ir)(s),b=g(s),_=(0,f.l)(),j={};return j=s===o.co.UNAUTHENTICATED?{handleClick:()=>{_(n)}}:d?{handleClick:d}:{url:c},(0,r.jsx)(i.vQ,{actions:m,title:null!==(t=null!=b?b:l)&&void 0!==t?t:"Untitled",tag:(0,r.jsx)(v,{type:n}),isError:x,isLoading:u,isSyncing:h,...j,...p})},x={[o.Fg.GDRIVE]:"DOC",[o.Fg.OUTLINE]:"DOC",[o.Fg.GITHUB]:"GITHUB",[o.Fg.SALESFORCE]:"SALESFORCE",[o.Fg.GMAIL]:"EMAIL",[o.Fg.GCAL]:"CALENDAR",[o.Fg.SLACK]:"SLACK",[o.Fg.ASANA]:"ASANA"},v=e=>{let{type:t}=e;return(0,r.jsxs)(i.l1,{children:[(0,r.jsx)(s.j0,{type:t,size:12,variant:t===o.Fg.GDRIVE?s.cT.DOCS:void 0}),(0,r.jsx)("p",{className:"uppercase truncate font-styrene text-text-300 text-[11px] leading-[13px]",children:x[t]})]})},b=e=>{let{projectUuid:t,syncSource:n,location:i,actions:s,isSyncing:o,...c}=e,[d,u]=(0,l.useState)(!1),{owner:f,repo:h}=n.config,g="".concat(f,"/").concat(h),x=n.config.branch,v=!(0,a.ir)(n.status.state),b=c.isEditable&&v,_=b||c.isInSelectionMode;return(0,r.jsxs)(r.Fragment,{children:[b&&(0,r.jsx)(m.U,{projectUuid:t,location:i,isOpen:d,onClose:()=>u(!1),syncSource:n}),(0,r.jsx)(p,{...c,syncSourceType:n.type,syncStatus:n.status.state,title:g,subtitle:x,handleClick:_?()=>{if(c.isInSelectionMode){var e;null===(e=c.handleSelect)||void 0===e||e.call(c,!0,!1)}u(!0)}:void 0,actions:s,isSyncing:o})]})},_=e=>{let{syncSource:t,actions:n,isSyncing:i,...s}=e,a=(0,h.m)(t.config.uri),{title:o,isLoading:l}=(0,d.Xv)({uri:t.config.uri}),c=s.isInSelectionMode?()=>{var e;null===(e=s.handleSelect)||void 0===e||e.call(s,!0,!1)}:void 0;return(0,r.jsx)(p,{handleClick:c,...s,syncSourceType:t.type,syncStatus:t.status.state,title:o,url:a,isLoading:s.isLoading||l,actions:n,isSyncing:i})},j=e=>{let{syncSource:t,actions:n,isSyncing:i,...s}=e,a=(0,h.v)(t.config.outline_uri),{title:o,isLoading:l}=(0,u.Zf)({uri:t.config.outline_uri}),c=s.isInSelectionMode?()=>{var e;null===(e=s.handleSelect)||void 0===e||e.call(s,!0,!1)}:void 0;return(0,r.jsx)(p,{handleClick:c,...s,syncSourceType:t.type,syncStatus:t.status.state,title:o,url:a,isLoading:s.isLoading||l,actions:n,isSyncing:i})},y=e=>{let{projectUuid:t,syncSource:n,isEditable:s=!1,location:a,actions:l,isSyncing:c,...d}=e;return(null==n?void 0:n.type)?n.type===o.Fg.GITHUB?(0,r.jsx)(b,{...d,projectUuid:t,syncSource:n,isEditable:s,location:a,actions:l,isSyncing:c}):n.type===o.Fg.GDRIVE?(0,r.jsx)(_,{...d,syncSource:n,isEditable:s,actions:l,isSyncing:c}):n.type===o.Fg.OUTLINE?(0,r.jsx)(j,{...d,syncSource:n,isEditable:s,actions:l,isSyncing:c}):void 0:(0,r.jsx)(i.fz,{})}},34326:function(e,t,n){function r(e,t){if(!t.startsWith("/"))throw Error("absolute path required");let n=t;for(;null!==n;){let t=e[n];if("include"===t)return!0;if("exclude"===t)break;n=o(n)}return!1}function i(e,t){if(!t.startsWith("/"))throw Error("absolute path required");return r(e=a(e,t),t)&&(e={...e,[t]:"exclude"}),e}function s(e,t){if(!t.startsWith("/"))throw Error("absolute path required");return r(e=a(e,t),t)||(e={...e,[t]:"include"}),e}function a(e,t){let n={...e};for(let r of Object.keys(e))(t.endsWith("/")&&t===r||r.startsWith(t))&&delete n[r];return n}function o(e){if(!e.startsWith("/"))throw Error("absolute path required");if("/"===e)return null;let t=e.endsWith("/")?e.lastIndexOf("/",e.length-2):e.lastIndexOf("/");return t<=0?"/":e.slice(0,t+1)}function l(e){return 0===Object.keys(e).length}n.d(t,{F8:function(){return i},Il:function(){return o},VG:function(){return r},Yw:function(){return s},xb:function(){return l}})},70712:function(e,t,n){n.d(t,{g:function(){return a},k:function(){return o}});let r=/docs\.google\.com\/document\/d\/([a-zA-Z0-9-_]+)/i,i=/document\/d\/([a-zA-Z0-9-_]+)/i,s=/(docs\.google\.com)|(drive\.google\.com)/i;function a(e){if(!e)return null;try{let t=new URL(e),n=!!t.toString().match(r),s=t.pathname.match(i);if(n&&s&&s[1])return s[1]}catch(e){}return null}function o(e){if(!e)return!1;try{return!!new URL(e).toString().match(s)}catch(e){}return!1}},56767:function(e,t,n){n.d(t,{A:function(){return i}});var r=n(30947);function i(e){let t="Unable to add Google Doc.";return e instanceof r.Hx&&"access_denied"===e.errorCode?t+=" Please check that link is a valid Google Doc that you have access to.":t+=" "+e.message,t}},84344:function(e,t,n){n.d(t,{m:function(){return r},v:function(){return i}});let r=e=>"https://docs.google.com/document/d/".concat(e),i=e=>"https://outline.ant.dev/doc/".concat(e)},16282:function(e,t,n){n.d(t,{K3:function(){return z},PJ:function(){return F},TF:function(){return Z},Xz:function(){return G},a9:function(){return T},ek:function(){return O},kD:function(){return R},mB:function(){return C},tK:function(){return k}});var r=n(27573),i=n(5161),s=n(96070),a=n(32737),o=n(84464),l=n(53949),c=n(30070),d=n(16963),u=n(11510),f=n(80151),m=n(55474),h=n(84773),g=n(10607),p=n(68425),x=n(7653),v=n(40950),b=n(45790),_=n(23529),j=n(26047),y=n(53186),w=n(32846),N=n(91887);let k=(0,x.forwardRef)((e,t)=>{let{size:n,onRemoveFile:i,isInteractive:s=!0,children:a,testId:o,className:l}=e;return(0,r.jsx)(p.E.div,{ref:t,"data-testid":o,className:(0,g.Z)("group/thumbnail relative inline-block p-0.5",s&&"cursor-pointer","auto"===n&&"h-full w-full",l),layout:"xxs"!==n&&"xs"!==n&&"lg"!==n&&"mdlg"!==n,...!!i&&E,children:a})});k.displayName="BaseThumbnail";let C=e=>{let{file:t,size:n,showWarnings:i,onRemoveFile:a,onClick:o,isInteractive:c=!0,isEditable:d}=e,[u,f]=(0,x.useState)(!1);if((0,s.b)())return"xxs"===n?(0,r.jsx)(N.yL,{file:t}):(0,r.jsx)(N.mB,{file:t,showWarnings:i,handleRemove:a,handleClick:o,isEditable:d});if("file_kind"in t)switch(t.file_kind){case l.Y.Image:return(0,r.jsx)(S,{isPreviewOpen:u,setIsPreviewOpen:f,file:t,size:n,showWarnings:i,onRemoveFile:a,onClick:o,isInteractive:c});case l.Y.Blob:return(0,r.jsx)(A,{file:t,size:n,onRemoveFile:a,onClick:o,isInteractive:c});case l.Y.SanitizedDocument:return(0,r.jsx)(L,{file:t,size:n,onRemoveFile:a,onClick:o,isInteractive:c})}return(0,r.jsx)(I,{isPreviewOpen:u,setIsPreviewOpen:f,file:t,size:n,onRemoveFile:a,onClick:o,isInteractive:c})},E={initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1,transition:{type:"spring",stiffness:650,damping:25,mass:1,opacity:{ease:"linear",duration:.25}}},exit:{opacity:0,scale:.9,duration:.05,ease:"easeOut"}},S=e=>{let{file:t,size:n,showWarnings:i,onRemoveFile:s,onClick:c,isInteractive:d,isPreviewOpen:u,setIsPreviewOpen:f}=e,m=i&&(0,o.e)(t),h="lg"===n?t.preview_asset:t.thumbnail_asset,[v,b]=(0,x.useState)(!1),_="lg"===n?400:100,j="lg"===n?200:80,w=window.devicePixelRatio||1,N=h.image_width/w,k=h.image_height/w,C=1;return N>_&&(C=_/N),k*C>j&&(C=j/k),N*=C,k*=C,(0,r.jsxs)(p.E.div,{"data-testid":t.file_name,className:(0,g.Z)("group inline-block self-end flex-shrink-0",d&&"cursor-pointer","md"===n&&"h-20 w-28 border-border-300/20 hover:border-border-300/30 transition relative -mb-1 rounded-[0.625rem] border-2",m&&"border-warning-orange/95","lg"===n&&"rounded-lg shadow"),layout:"lg"!==n,...!!s&&E,children:[s&&(0,r.jsx)("div",{className:"absolute -top-0.5 left-0.5 z-10",children:(0,r.jsx)(Z,{onRemoveFile:s})}),m&&(0,r.jsx)(M,{}),(0,r.jsx)(a.u,{tooltipContent:t.file_name,side:"bottom",children:(0,r.jsxs)("div",{className:(0,g.Z)("border-0.5 border-border-200 group-hover/thumbnail:border-border-100 relative overflow-hidden rounded-lg transition group-active/thumbnail:scale-[0.99]","md"===n&&"h-full w-full"),style:{backgroundColor:"#".concat(t.thumbnail_asset.primary_color)},children:[(0,r.jsx)(p.E.img,{initial:{opacity:0,scale:.985},animate:{opacity:v?1:0,scale:v?1:.985,transition:{ease:"easeOut",duration:.125,opacity:{duration:.25}}},className:(0,g.Z)("md"===n&&"h-full w-full object-cover"),alt:t.file_name,onDragStart:e=>e.preventDefault(),loading:"eager",onLoad:()=>b(!0),src:h.url,width:N,height:k}),(0,r.jsx)("link",{rel:"preload",as:"image",href:t.preview_asset.url}),d&&(0,r.jsx)("button",{className:"absolute inset-0 z-[1]",onClick:c||(()=>f(!0)),"data-testid":"file-thumbnail"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-2/3 bg-gradient-to-b from-always-black/0 to-always-black/10"})]})}),t.file_kind===l.Y.Image&&(0,r.jsx)(y.e,{file:t,isOpen:u,onClose:()=>f(!1)})]})},M=()=>{let e=(0,v.Z)();return(0,r.jsx)(a.u,{tooltipContent:e.formatMessage({defaultMessage:"Attach a higher resolution image for better results",id:"VLPlC033NT"}),side:"bottom",children:(0,r.jsx)("div",{className:"bg-warning-orange/95 text-text-100 hover:text-text-000 absolute bottom-0 right-0 z-10 rounded-ee-md rounded-ss-md p-0.5 transition",children:(0,r.jsx)(c.v,{size:16})})})},z=e=>{let{size:t,isInteractive:n=!0,isError:i=!1}=e;return(0,r.jsxs)("div",{className:(0,g.Z)("group-hover/thumbnail:drop-shadow-sm pointer-events-none absolute inset-0 z-0 grid grid-rows-[auto_1fr] overflow-hidden transition transition-transform duration-100",n&&"group-active/thumbnail:scale-[0.99]"),children:[(0,r.jsxs)("div",{className:"relative z-[1] -mb-[0.5px] flex ",children:[(0,r.jsx)("div",{className:(0,g.Z)("border-border-200/30 border-l-0.5 border-t-0.5 group-hover/thumbnail:border-border-200 h-full w-full bg-always-white transition-colors duration-100","xxs"===t&&"rounded-tl","xs"===t&&"rounded-tl-md","xxs"!==t&&"xs"!==t&&"rounded-tl-lg")}),(0,r.jsxs)("svg",{viewBox:"0 0 16 16",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",className:(0,g.Z)("block flex-shrink-0 drop-shadow","xxs"===t?"h-2 w-2":"h-4 w-4"),children:[(0,r.jsx)("path",{d:"M0 0L16 16H0V0Z",className:"stroke-border-300/10 fill-always-white",strokeWidth:"0.5"}),(0,r.jsx)("path",{d:"M-1 -1L17 17",className:"group-hover/thumbnail:stroke-border-300 transition-colors duration-100",strokeWidth:"0.5"})]})]}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("div",{className:(0,g.Z)("border-l-0.5 border-b-0.5 border-r-0.5 border-border-200/30 group-hover/thumbnail:border-border-200 absolute inset-0 bg-always-white bg-gradient-to-b from-always-white from-20% transition-colors duration-100",i?"to-danger-000/20":"to-accent-secondary-200/10","xxs"===t&&"rounded-b","xs"===t&&"rounded-b-md","xxs"!==t&&"xs"!==t&&"rounded-b-lg")})})]})},D=e=>{let{file_name:t,size:n}=e;return(0,r.jsx)(r.Fragment,{children:"xxs"!==n&&"xs"!==n&&(0,r.jsx)("div",{style:{transform:"translate3d(0,0,0)"},className:(0,g.Z)("text-accent-secondary-200 pointer-events-none relative z-[1] flex-1 break-words px-2.5 text-center leading-tight tracking-tight",("md"===n||"auto"===n)&&"mb-1 line-clamp-3 px-2.5 text-[0.85rem] font-semibold leading-[0.825rem] tracking-tighter","lg"===n&&"line-clamp-4 px-3 pt-6 text-sm font-semibold"),children:T(t)})})},F=e=>{let{fileExtension:t,size:n,extensionAccessory:i,className:s,externalDocument:a=!1}=e;return(0,r.jsx)("div",{className:"text-center",children:(0,r.jsxs)("div",{className:(0,g.Z)("inline-flex max-w-full items-center transition-all",("xxs"===n||"xs"===n)&&"relative z-[1] pt-0.5 text-accent-secondary-100","xxs"===n&&"text-[0.4rem] tracking-tighter","xs"===n&&"text-[0.5rem] tracking-normal",("md"===n||"mdlg"===n||"lg"===n)&&"group-hover/thumbnail:bg-always-white/80 transition bg-always-white/90 backdrop-blur border-border-200/30 border-0.5 shadow-sm text-always-black/70 inline-block rounded-full px-1.5 py-[0.125rem] text-[0.625rem] tracking-normal","md"===n&&"absolute left-1/2 top-full z-10 -mt-1 -translate-x-1/2 -translate-y-1/2","mdlg"===n&&"relative z-[1] mb-3","lg"===n&&"relative z-[1] mb-4",s),children:[(0,r.jsx)("div",{className:"uppercase font-bold line-clamp-1 truncate",children:t}),i,a&&(0,r.jsx)(d.G,{size:12,className:"ml-1 group-hover/thumbnail:opacity-70 opacity-0 w-0 group-hover/thumbnail:w-3 scale-50 group-hover/thumbnail:scale-100 transition-all"})]})})},A=e=>{let{file:t,size:n,onClick:i,isInteractive:s,onRemoveFile:o}=e,[l,c]=(0,x.useState)(!1),d=t.file_name.split("."),f=d.length>1?d[d.length-1]:null,m=s?t.file_name:null,h=f?(0,r.jsx)(b.Z,{defaultMessage:"Claude can analyze {fileExtension} files with the analysis tool.",id:"zk0dac6GGP",values:{fileExtension:f.toUpperCase()}}):(0,r.jsx)(b.Z,{defaultMessage:"Claude can analyze this file with the analysis tool.",id:"gbe6qXNZjr"});return(0,r.jsxs)(k,{size:n,onRemoveFile:o,isInteractive:s,testId:t.file_name,children:[o&&(0,r.jsx)("div",{className:"absolute left-1 top-1 z-10",children:(0,r.jsx)(Z,{onRemoveFile:o})}),(0,r.jsx)(_.y,{isOpen:l,setIsOpen:c,fileName:t.file_name,fileUuid:t.file_uuid}),(0,r.jsxs)(O,{size:n,onClick:i||(s?()=>c(!0):void 0),children:[(0,r.jsx)(z,{size:n}),(0,r.jsx)(D,{file_name:t.file_name,size:n}),(0,r.jsx)(a.u,{tooltipContent:m,side:"bottom",children:(0,r.jsx)("div",{className:"absolute top-0 left-0 right-0 bottom-5"})}),f&&(0,r.jsx)(F,{fileExtension:f,size:n,extensionAccessory:"lg"===n||"md"===n?(0,r.jsxs)("div",{className:"inline-flex ml-1 -my-0.5 -mr-1.5 rounded-r-full",children:[(0,r.jsx)("div",{className:"inline-block w-[0.5px] bg-always-black/20 rounded-b"}),(0,r.jsx)(a.u,{tooltipContent:h,side:"bottom",children:(0,r.jsx)("span",{className:"inline-flex items-center gap-1  pl-1.5 pr-2 rounded-r-full group/large transition",children:(0,r.jsx)(u.k,{weight:"bold",className:"opacity-80",size:12})})})]}):null})]})]})},L=e=>{let{file:t,size:n,onClick:i,isInteractive:s,onRemoveFile:o}=e,[l,c]=(0,x.useState)(!1),d=t.file_name.split("."),u=d.length>1?d[d.length-1]:null,f=s?t.file_name:null;return(0,r.jsxs)(k,{size:n,onRemoveFile:o,isInteractive:s,testId:t.file_name,children:[o&&(0,r.jsx)("div",{className:"absolute left-1 top-1 z-10 group",children:(0,r.jsx)(Z,{onRemoveFile:o})}),(0,r.jsx)(w.i,{isOpen:l,setIsOpen:c,documentFile:t}),(0,r.jsxs)(O,{size:n,onClick:i||(s?()=>c(!0):void 0),children:[(0,r.jsxs)("div",{className:"absolute h-full w-full rounded-[0.625rem] mt-0.5 border-2 border-border-300/20 group-hover/thumbnail:border-border-300/30 transition overflow-hidden",children:[(0,r.jsx)(p.E.img,{initial:{opacity:0,scale:.985},animate:{opacity:1,scale:1,transition:{ease:"easeOut",duration:.125,opacity:{duration:.25}}},className:(0,g.Z)("md"===n&&"h-full w-full object-cover object-top top-0 border-0.5 border-border-200 group-hover/thumbnail:border-border-100 transition rounded-lg"),alt:t.file_name,onDragStart:e=>e.preventDefault(),loading:"eager",src:t.thumbnail_asset.url,width:t.thumbnail_asset.image_width,height:t.thumbnail_asset.image_height}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-2/3 bg-gradient-to-b from-always-black/0 to-always-black/10"})]}),(0,r.jsx)("div",{className:"h-full w-full",children:" "}),(0,r.jsx)(a.u,{tooltipContent:f,side:"bottom",children:(0,r.jsx)("div",{className:"absolute top-0 left-0 right-0 -bottom-0"})}),u&&(0,r.jsx)(F,{fileExtension:u,size:n})]})]})},I=e=>{let{file:t,size:n,onClick:s,isInteractive:o,onRemoveFile:l,isPreviewOpen:c,setIsPreviewOpen:d}=e,f=P(t)?(0,r.jsx)(b.Z,{defaultMessage:"Pasted Text",id:"scniiadfth"}):t.file_name,m=t.extracted_content.split("\n").length,h=o?(0,r.jsx)(b.Z,{id:"L7ArvWNpMR",defaultMessage:"{filename} \xb7 {lineCount, plural, one {# line} other {# lines}}",values:{filename:f,lineCount:m}}):null;return(0,r.jsxs)(k,{size:n,onRemoveFile:l,isInteractive:o,testId:t.file_name,children:[l&&(0,r.jsx)("div",{className:"absolute left-1 top-1 z-10",children:(0,r.jsx)(Z,{onRemoveFile:l})}),(0,r.jsx)(j.J,{file:t,isOpen:c,onClose:()=>d(!1)}),(0,r.jsx)(a.u,{className:"text-center",tooltipContent:h,side:"bottom",children:(0,r.jsx)("div",{children:(0,r.jsxs)(O,{size:n,onClick:s||(o?()=>d(!0):void 0),testId:"file-thumbnail",children:[(0,r.jsx)(z,{size:n}),P(t)?(0,r.jsx)("div",{className:(0,g.Z)("fade-out-bottom text-accent-secondary-100 pointer-events-none visible relative z-[1] h-full overflow-hidden break-words text-left leading-tight tracking-tighter opacity-70",("md"===n||"auto"===n)&&"px-3.5 pt-3.5 text-[0.5rem] font-semibold","lg"===n&&"px-3 pt-5 text-[0.5rem] font-semibold"),children:t.extracted_content.substring(0,200)}):(0,r.jsx)(D,{file_name:t.file_name,size:n}),(0,r.jsx)(F,{fileExtension:function(e){if(P(e))return"pasted";if("text/plain"===e.file_type)return"txt";if("text/html"===e.file_type)return"html";{if(""===e.file_name)return"";let t=e.file_name.match(/\.[^.]+$/);return t&&(0,i.tB)({imagesEnabled:!0}).includes(t[0].toLowerCase())?t[0].slice(1):"text"}}(t),size:n,extensionAccessory:"pdf"===t.file_type&&(0,r.jsx)(a.u,{tooltipContent:"PDF converted to text",side:"bottom",children:(0,r.jsxs)("div",{className:"inline-flex ml-1",children:[(0,r.jsx)("div",{className:"inline-block w-[0.5px] bg-border-300"}),(0,r.jsx)(u.k,{className:"ml-1.5 mr-0.5",weight:"bold",size:12})]})})})]})})})]})};function Z(e){let{onRemoveFile:t}=e,n=(0,v.Z)();return(0,r.jsx)("button",{className:"border-0.5 border-border-200 text-text-500 bg-bg-000 hover:bg-danger-100 hover:text-oncolor-100 -translate-x-1/2 -translate-y-1/2 rounded-full p-1 transition hover:scale-105",onClick:t,"aria-label":n.formatMessage({defaultMessage:"Remove file",id:"hgAzMVK+jq"}),children:(0,r.jsx)(f.X,{size:12,weight:"bold"})})}function P(e){return e.file_name.match(/paste(-\d+)?\.txt/)}function T(e){let t=e.match(/\.[^/.]+$/);return t&&(0,i.tB)({imagesEnabled:!0}).includes(t[0].toLowerCase())?e.replace(/\.[^/.]+$/,""):e}function O(e){let{size:t,children:n,isInteractive:i=!0,testId:s,classname:a,...o}=e,l=(0,g.Z)("relative grid grid-rows-[1fr_auto] items-center","xxs"===t&&"h-7 w-[1.625rem]","xs"===t&&"h-10 w-10","md"===t&&"h-20 w-28","mdlg"===t&&"h-[120px] w-[120px]","lg"===t&&"h-36 w-32 drop-shadow-sm","auto"===t&&"h-full w-full",a);return o.href?(0,r.jsx)("a",{"data-testid":s,target:"_blank",className:l,href:o.href,children:n}):(0,r.jsx)("button",{"data-testid":s,disabled:!i,className:l,onClick:o.onClick,children:n})}let G=()=>(0,s.b)()?(0,r.jsx)(N.vQ,{title:"Images hidden in shared chats",isError:!0}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-lg bg-bg-300/80 h-36 w-56 px-6 py-3",children:[(0,r.jsx)(m.f,{size:24,className:"text-text-500"}),(0,r.jsx)("div",{className:"text-text-500 text-sm text-center mt-2",children:(0,r.jsx)(b.Z,{defaultMessage:"Images are not supported in shared chats",id:"vmTlLHPu8j"})})]}),R=()=>(0,s.b)()?(0,r.jsx)(N.vQ,{title:"Files hidden in shared chats",isError:!0}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-lg bg-bg-300/80 h-36 w-56 px-6 py-3",children:[(0,r.jsx)(h.h,{size:24,className:"text-text-500"}),(0,r.jsx)("div",{className:"text-text-500 text-sm text-center mt-2",children:(0,r.jsx)(b.Z,{defaultMessage:"Files are not supported in shared chats",id:"8u6r5ZY4A7"})})]})},91887:function(e,t,n){n.d(t,{eI:function(){return D},fz:function(){return G},l1:function(){return q},mB:function(){return F},vQ:function(){return T},yL:function(){return O}});var r=n(56683),i=n(27573),s=n(5161),a=n(5984),o=n(9788),l=n(10571),c=n(32737),d=n(84464),u=n(1133),f=n(53949),m=n(30070),h=n(80151),g=n(10607),p=n(68425),x=n(7583),v=n(7653),b=n(45790),_=n(23529),j=n(26047),y=n(53186),w=n(32846),N=n(40618);function k(){let e=(0,r._)(["\n  min-w-0\n  h-[18px] \n  flex \n  flex-row \n  items-center \n  justify-center\n  gap-0.5\n  px-1 \n  border-0.5\n  border-border-300/25\n  shadow-sm\n  rounded\n  bg-bg-000/70\n  backdrop-blur-sm\n  font-medium\n"]);return k=function(){return e},e}function C(e){return e.file_name.match(/paste(-\d+)?\.txt/)}function E(e){if("file_kind"in e){let t=e.file_name.split(".");return t.length>1?t[t.length-1]:void 0}if(C(e))return"pasted";if("text/plain"===e.file_type)return"txt";if("text/html"===e.file_type)return"html";{if(""===e.file_name)return"";let t=e.file_name.match(/\.[^.]+$/);return t&&(0,s.tB)({imagesEnabled:!0}).includes(t[0].toLowerCase())?t[0].slice(1):"text"}}let S=e=>{let{handleClick:t,isInSelectionMode:n,handleSelect:r}=e,[i,s]=(0,v.useState)(!1);return{onClick:()=>{n&&r?r(!0,!1):t?t():s(!0)},isPreviewOpen:i,setIsPreviewOpen:s}},M={icon:{height:28,width:28},normal:{height:120,width:120},stretch:{height:120,width:"100%"}},z=e=>e&&M[e]?M[e]:M.normal,D=e=>{let{domain:t,faviconUrl:n,...r}=e,s=(0,i.jsx)(H,{faviconUrl:n,domain:t});return(0,i.jsx)(T,{tag:s,...r})},F=e=>{let{file:t,isEditable:n,showWarnings:r,...s}=e;if("file_kind"in t)switch(t.file_kind){case f.Y.Image:return(0,i.jsx)(A,{...s,file:t,showWarnings:r,isEditable:n});case f.Y.Blob:return(0,i.jsx)(L,{...s,file:t,isEditable:n});case f.Y.SanitizedDocument:return(0,i.jsx)(Z,{...s,file:t,isEditable:n})}return(0,i.jsx)(I,{...s,file:t,isEditable:n})},A=e=>{let{size:t,file:n,showWarnings:r,handleRemove:s,handleClick:a,isSelected:o,handleSelect:l,isInSelectionMode:c,isEditable:u}=e,{height:f,width:m}=z(t),{onClick:h,isPreviewOpen:g,setIsPreviewOpen:p}=S({handleClick:a,isInSelectionMode:c,handleSelect:l}),x=r&&(0,d.e)(n);return(0,i.jsxs)("div",{className:"relative group/thumbnail ",children:[(0,i.jsxs)("div",{"data-testid":n.file_name,style:{width:m,height:f,minWidth:m,minHeight:f},className:"cursor-pointer rounded-lg overflow-hidden",children:[(0,i.jsx)(P,{"data-testid":"file-thumbnail",width:m,height:f,fileName:n.file_name,src:n.preview_asset.url,onClick:h}),(0,i.jsx)(B,{isAbsolute:!0,right:x?(0,i.jsx)(K,{type:"warning",tooltipText:"Attach a higher resolution image for better results"}):void 0,isSelected:o,handleSelect:l,isEditable:u}),(0,i.jsx)(y.e,{file:n,isOpen:g,onClose:()=>p(!1)}),(0,i.jsx)("div",{className:"transition-colors absolute pointer-events-none top-0 left-0 right-0 bottom-0 rounded-lg shadow-always-white/40 group-hover/thumbnail:shadow-always-white/60 shadow-[inset_0_0_0_2px_var(--tw-shadow-color)]"})]}),(0,i.jsx)(W,{handleRemove:s,isEditable:u,isInSelectionMode:c})]})},L=e=>{let{file:t,handleClick:n,...r}=e,{onClick:s,isPreviewOpen:a,setIsPreviewOpen:o}=S({handleClick:n,isInSelectionMode:r.isInSelectionMode,handleSelect:r.handleSelect}),l=E(t);return(0,i.jsxs)("div",{children:[(0,i.jsx)(T,{...r,"data-testid":t.file_name,title:t.file_name,handleClick:s,tag:!!l&&(0,i.jsx)(V,{tagName:l,tooltipText:l?"Claude can analyze ".concat(l.toUpperCase()," files with the analysis tool."):"Claude can analyze this file with the Analysis tool."})}),(0,i.jsx)(_.y,{isOpen:a,setIsOpen:o,fileName:t.file_name,fileUuid:t.file_uuid})]})},I=e=>{let{file:t,handleClick:n,...r}=e,{onClick:s,isPreviewOpen:a,setIsPreviewOpen:o}=S({handleClick:n,isInSelectionMode:r.isInSelectionMode,handleSelect:r.handleSelect}),l=C(t),c=l?"Pasted Text":t.file_name,d=t.extracted_content.split("\n").length,u=(0,i.jsx)(b.Z,{defaultMessage:"{count, plural, one {# line} other {# lines}}",id:"AFTxeGB4qO",values:{count:d}}),f=t.extracted_content.substring(0,300),m=E(t);return(0,i.jsxs)("div",{children:[(0,i.jsx)(T,{...r,"data-testid":t.file_name,...l?{text:f}:{title:c,subtitle:u},handleClick:s,tag:!!m&&(0,i.jsx)(V,{tagName:m,tooltipText:"pdf"===t.file_type?"PDF converted to text":void 0})}),(0,i.jsx)(j.J,{file:t,isOpen:a,onClose:()=>o(!1)})]})},Z=e=>{let{size:t,file:n,handleRemove:r,handleClick:s,isSelected:a,handleSelect:o,isInSelectionMode:l,isEditable:c}=e,{height:d,width:u}=z(t),{onClick:f,isPreviewOpen:m,setIsPreviewOpen:h}=S({handleClick:s,isInSelectionMode:l,handleSelect:o}),g=E(n);return(0,i.jsxs)("div",{className:"group/thumbnail relative",children:[(0,i.jsxs)("div",{"data-testid":n.file_name,style:{width:u,height:d,minWidth:u,minHeight:d},className:"cursor-pointer rounded-lg overflow-hidden border-0.5 border-border-300/25 shadow-sm shadow-always-black/5 hover:border-border-200/50 hover:shadow-always-black/10",children:[(0,i.jsx)(P,{width:"100%",height:"100%",fileName:n.file_name,src:n.thumbnail_asset.url,onClick:f}),(0,i.jsx)(B,{isSelected:a,handleSelect:o,isAbsolute:!0,left:g?(0,i.jsx)(V,{tagName:g}):void 0,isEditable:c}),(0,i.jsx)(w.i,{isOpen:m,setIsOpen:h,documentFile:n})]}),(0,i.jsx)(W,{handleRemove:r,isEditable:c,isInSelectionMode:l})]})},P=e=>{let{width:t,height:n,fileName:r,src:s,onClick:a}=e,[o,l]=(0,v.useState)(!1);return(0,i.jsx)("div",{className:"relative bg-bg-000",style:{width:t,height:n},children:(0,i.jsx)("img",{className:(0,g.Z)("w-full h-full object-cover transition duration-400",o?"opacity-1":"opacity-0 blur-sm"),onLoad:()=>l(!0),alt:r,src:s,onDragStart:e=>e.preventDefault(),onClick:a})})},T=e=>{let{size:t,url:n,handleClick:r,title:s,subtitle:a,text:o,isLoading:l=!1,tag:c,actions:d,isError:u,handleRemove:f,isEditable:m,isSyncing:h,handleSelect:x,isSelected:v,isInSelectionMode:b}=e,{height:_,width:j}=z(t),y=(0,i.jsxs)(p.E.div,{className:"group/thumbnail relative",whileHover:m?"actionsVisible":h||b?"actionsVisible":void 0,animate:b||h?"actionsVisible":"initial","data-testid":"file-thumbnail",children:[(0,i.jsxs)("div",{style:{width:j,height:_,minWidth:j},className:(0,g.Z)("font-styrene transition-all rounded-lg border-0.5 border-border-300/25 flex flex-col justify-between gap-2.5 overflow-hidden px-2.5 py-2",u?"bg-danger-200/5":l?"bg-bg-100":"bg-bg-000",!!(n||r)&&!l&&"hover:border-border-200/50 hover:shadow-always-black/10",!l&&"shadow-sm shadow-always-black/5"),children:[(0,i.jsxs)("div",{className:"relative flex flex-col gap-1 min-h-0",children:[o?(0,i.jsx)("div",{className:"max-w-full overflow-hidden absolute h-[112px] [mask-image:linear-gradient(to_bottom,hsl(var(--always-black)/80%)_0%,_hsl(var(--always-black)/10%)_100%)]",children:(0,i.jsx)(p.E.p,{initial:{opacity:0},animate:{opacity:1},className:"text-[8px] text-text-100 break-words",children:o})}):u||s&&!l?(0,i.jsx)(p.E.h3,{initial:{opacity:0},animate:{opacity:1},inherit:!1,className:(0,g.Z)("text-[12px] tracking-tighter break-words",u?"text-text-500":"text-text-100",a?"line-clamp-3":"line-clamp-4"),children:s}):(0,i.jsx)(R,{}),!!a&&!l&&!u&&(0,i.jsx)(p.E.p,{initial:{opacity:0},animate:{opacity:1},inherit:!1,className:"text-[10px] line-clamp-1 tracking-tighter break-words text-text-500",children:a})]}),l?(0,i.jsx)(U,{}):(0,i.jsx)(B,{isSelected:v,handleSelect:x,left:c,right:u&&(0,i.jsx)(K,{type:"error"}),actions:d,isEditable:m})]}),(0,i.jsx)(W,{handleRemove:f,isEditable:m,isInSelectionMode:b})]});return r?(0,i.jsx)("div",{className:"cursor-pointer",onClick:r,children:y}):n?(0,i.jsx)("a",{href:n,target:"_blank",children:y}):y},O=e=>{let{file:t}=e,n=E(t);return(0,i.jsx)("div",{className:"w-[38px] h-[38px] min-w-[38px] font-styrene rounded-lg border-0.5 border-border-300/25 shadow-sm shadow-always-black/5 flex items-center justify-center overflow-hidden bg-bg-000",children:!!n&&(0,i.jsx)("p",{className:"font-bold uppercase font-styrene text-text-300 text-[9px] tracking-tighter pt-0.5",children:n})})},G=e=>{let{size:t,tag:n,isShown:r=!0}=e,{width:s}=z(t);return(0,i.jsx)(x.M,{children:!!r&&(0,i.jsx)(p.E.div,{initial:{opacity:0,maxWidth:0},animate:{opacity:1,maxWidth:s},children:(0,i.jsx)(T,{isLoading:!0,tag:n,size:t})})})},R=()=>(0,i.jsxs)(p.E.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full flex flex-col",children:[(0,i.jsx)(l.g,{width:"100%",height:"12px",className:"mt-1 !bg-border-400 !rounded after:!via-always-white/50"}),(0,i.jsx)(l.g,{width:"66%",height:"12px",className:"mt-1 !bg-border-400 !rounded after:!via-always-white/50"})]}),U=()=>(0,i.jsx)(p.E.div,{initial:{opacity:0},animate:{opacity:1},children:(0,i.jsx)(l.g,{width:"48px",height:"18px",className:"mt-1 !bg-border-400 !rounded after:!via-always-white/50"})}),q=o.q.div(k()),B=e=>{let{isAbsolute:t=!1,left:n,right:r,actions:s,handleSelect:o,isSelected:l,isEditable:c}=e,d=!!n,u=!!r||!!o;return d||u?(0,i.jsx)("div",{className:(0,g.Z)(t&&"absolute bottom-2 left-0 right-0 px-2.5 overflow-x-hidden overflow-y-visible"),children:(0,i.jsxs)("div",{className:(0,g.Z)("relative flex flex-row items-center gap-1",u&&!d?"justify-end":"justify-between"),children:[d&&(0,i.jsx)(p.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-row gap-1 shrink min-w-0",children:n}),u&&(0,i.jsxs)("div",{className:"flex flex-row gap-1 shrink-0",children:[r,!!o&&!!c&&(0,i.jsxs)(p.E.div,{variants:{actionsVisible:{opacity:1,position:"relative"},initial:{opacity:0,position:"absolute"}},className:"flex flex-row gap-1 h-[18px] right-0 top-0",onClick:e=>e.stopPropagation(),transition:{ease:"easeOut",duration:.2},children:[s,(0,i.jsx)(a.XZ,{checked:l,onChange:o,label:"Select file",hideLabel:!0,className:(0,g.Z)("!w-[18px] !h-[18px] -mt-1 !border-0.5 !border-border-300/25 !shadow-sm !rounded"),checkmarkClassName:"!w-3 !h-3"})]})]})]})}):null},H=e=>{let{faviconUrl:t,domain:n}=e;return(0,i.jsxs)(q,{className:"font-normal",children:[!!t&&(0,i.jsx)(N.c,{faviconUrl:t}),(0,i.jsx)("p",{className:"truncate font-styrene text-text-500 text-[11px] leading-[13px]",children:n})]})},V=e=>{let{tagName:t,tooltipText:n,className:r}=e,s=(0,i.jsx)(q,{className:r,children:(0,i.jsx)("p",{className:"uppercase truncate font-styrene text-text-300 text-[11px] leading-[13px]",children:t})});return n?(0,i.jsx)(c.u,{tooltipContent:n,children:s}):s},K=e=>{let{type:t,tooltipText:n,className:r}=e,s=(0,i.jsx)(q,{className:(0,g.Z)("shrink-0","error"===t?"text-danger-100 border-danger-200/50 bg-danger-900":"text-warning-orange border-warning-orange/50 bg-bg-000/70",r),children:(0,i.jsx)(m.v,{size:12})});return n?(0,i.jsx)(c.u,{tooltipContent:n,children:s}):s},W=e=>{let{handleRemove:t,isEditable:n,isInSelectionMode:r}=e;return t&&n&&!r?(0,i.jsx)(c.u,{tooltipContent:(0,i.jsx)(b.Z,{defaultMessage:"Remove",id:"G/yZLul6P1"}),side:"bottom",children:(0,i.jsx)("button",{className:(0,g.Z)("transition-all hover:bg-bg-000/50 text-text-500 hover:text-text-200 group-hover/thumbnail:opacity-100 opacity-0 w-5 h-5 absolute -top-2 -left-2 rounded-full border-0.5 border-border-300/25 bg-bg-000/90 backdrop-blur-sm flex items-center justify-center",(0,u.tq)()&&"!opacity-100 !bg-bg-000/50"),onClick:e=>{e.stopPropagation(),e.preventDefault(),t()},children:(0,i.jsx)(h.X,{size:12,weight:"bold"})})}):null}},23529:function(e,t,n){n.d(t,{y:function(){return g}});var r,i,s=n(27573),a=n(11607),o=n(52939),l=n(49167),c=n(88738),d=n(11510),u=n(45790),f=n(5362),m=n(27218),h=n(13262);function g(e){let{isOpen:t,setIsOpen:n,fileName:r,fileUuid:g}=e,{data:p,isLoading:x}=function(e){let{fileUuid:t,enabled:n}=e,{activeOrganization:r}=(0,m.t)(),i=null==r?void 0:r.uuid;return(0,f.WE)("/api/organizations/".concat(i,"/files/").concat(t,"/content_preview"),{queryKey:[h.Ej,{orgUuid:i,fileUuid:t}],enabled:!!r&&n})}({fileUuid:g,enabled:t}),v=null;return v=x?(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)(a.Loading,{size:"md"})}):p?p.file_type===i.Csv?(0,s.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[(0,s.jsxs)("div",{className:"bg-bg-100 w-[15rem] h-[12.5rem] rounded-lg border border-border-400 mb-5",children:[(0,s.jsxs)("div",{className:"h-[2.25rem] text-text-100 font-medium border-b border-border-400 px-3 flex items-center",children:[(0,s.jsx)(c.z,{className:"mr-2",size:16}),(0,s.jsx)("div",{children:(0,s.jsx)(u.Z,{defaultMessage:"Columns",id:"SUa8mpheAG"})})]}),(0,s.jsx)(l.$,{className:"h-[10.25rem] w-[15rem] pt-3 px-3 pb-1 text-text-200",children:p.column_names.map((e,t)=>(0,s.jsx)("div",{className:"truncate mb-2",children:e},t))})]}),(0,s.jsx)("div",{className:"text-lg text-text-100 mb-2",children:(0,s.jsx)(u.Z,{defaultMessage:"{columnCount, plural, one {# column} other {# columns}}, {rowCount, plural, one {# row} other {# rows}}",id:"wvGBF/FvBd",values:{columnCount:p.column_count,rowCount:p.row_count}})}),(0,s.jsxs)("div",{className:"flex items-center text-text-300 text-xs",children:[(0,s.jsx)(d.k,{className:"mr-2",size:12}),(0,s.jsx)("div",{children:(0,s.jsx)(u.Z,{defaultMessage:"Claude can analyze CSVs with the Analysis tool.",id:"gtvz8LDd6q"})})]})]}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)(u.Z,{defaultMessage:"File previews are not supported for this file type",id:"99ghrgx5j8"})}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)(u.Z,{defaultMessage:"Could not load file preview",id:"ATy/CxAxS4"})}),(0,s.jsx)(o.u_,{isOpen:t,hasCloseButton:!0,title:r,onClose:()=>n(!1),className:"w-[40rem] h-[24rem]",modalSize:"xl",children:v})}(r=i||(i={})).Generic="generic",r.Csv="csv",r.Excel="excel"},82274:function(e,t,n){n.d(t,{R:function(){return s}});var r=n(27573),i=n(45790);function s(e){let{showPDFWarning:t=!1,metaData:n}=e;return(0,r.jsxs)("span",{className:"text-text-500 mb-3 mt-0.5 flex flex-wrap gap-y-2 items-start items-center text-xs",children:[(0,r.jsx)("span",{children:n}),(0,r.jsx)("span",{className:"mx-1.5 opacity-50 hidden lg:inline",children:"•"}),t?(0,r.jsx)("span",{children:(0,r.jsx)(i.Z,{defaultMessage:"This PDF was converted to text due to its large size",id:"o/G2cAuU9n"})}):(0,r.jsx)("span",{children:(0,r.jsx)(i.Z,{defaultMessage:"Formatting may be inconsistent from source",id:"9NeTb00/cM"})})]})}},26047:function(e,t,n){n.d(t,{J:function(){return l}});var r=n(27573),i=n(2130),s=n(52939),a=n(7653),o=n(82274);let l=e=>{let{file:t,isOpen:n,onClose:l}=e,c=(0,a.useMemo)(()=>(0,i.G)(t),[t]);return(0,r.jsx)("div",{children:(0,r.jsx)(s.u_,{modalSize:"xl",isOpen:!!n,onClose:l,hasCloseButton:!0,title:c.title,subtitle:(0,r.jsx)(o.R,{showPDFWarning:"pdf"===t.file_type,metaData:c.metaData}),autoCloseOnFocusOut:!0,children:(0,r.jsx)("div",{className:"bg-bg-000 rounded-lg border-0.5 border-border-300 shadow-sm whitespace-pre-wrap break-all text-xs p-4 font-mono",children:t.extracted_content})})})}},53186:function(e,t,n){n.d(t,{e:function(){return g}});var r=n(56683),i=n(27573),s=n(9788),a=n(70354),o=n(34422),l=n(7583);let c=e=>{let{isOpen:t,children:n,initialFocus:r,className:s,onClose:a}=e;return(0,i.jsx)(l.M,{children:t&&(0,i.jsx)(o.V,{open:t,onClose:a,initialFocus:r,className:s,static:!0,children:n})})};var d=n(80151),u=n(68425),f=n(7653),m=n(40950);function h(){let e=(0,r._)(["\n  rounded-md\n  overflow-hidden\n  shadow-[0_4px_32px_hsl(var(--always-black)/30%),_0_0_0_0.5px_hsl(var(--always-black)/25%)]\n"]);return h=function(){return e},e}let g=e=>{let{file:t,isOpen:n,onClose:r}=e,s=(0,m.Z)(),o=(0,f.useRef)(null);return(0,i.jsxs)(c,{isOpen:n,initialFocus:o,onClose:r,className:"fixed inset-0 z-modal grid place-items-center px-3 pb-14 pt-3",children:[(0,i.jsx)(u.E.div,{onClick:e=>{e.preventDefault(),e.stopPropagation(),r()},className:"fixed inset-0 bg-always-black/70 backdrop-blur-[0px]",initial:{opacity:0},animate:{opacity:1,transition:{duration:.15,delay:.015}},exit:{opacity:0,transition:{opacity:{duration:.15}}}}),(0,i.jsxs)(u.E.div,{className:"relative max-w-[40rem]",initial:{opacity:0,scaleY:.925,scaleX:.95,translateY:"12px"},animate:{opacity:1,scaleX:1,scaleY:1,translateY:"0px",transition:{type:"spring",stiffness:750,damping:38,opacity:{duration:.15}}},exit:{opacity:0,scale:.95,transition:{duration:.15}},children:[(0,i.jsx)(a.z,{className:"hover:!text-text-100 !ring-border-200 !absolute left-full top-0 ml-1.5 !text-always-white !ring-offset-0",variant:"ghost",size:"icon_sm","aria-label":s.formatMessage({defaultMessage:"Close image preview",id:"gylVBxmE7Z"}),onClick:e=>{e.preventDefault(),e.stopPropagation(),r()},ref:o,option:"rounded","data-testid":"close-file-preview",children:(0,i.jsx)(d.X,{size:"16"})}),(0,i.jsx)(p,{children:(0,i.jsx)("img",{loading:"eager",src:t.preview_asset.url,width:t.preview_asset.image_width,height:t.preview_asset.image_height,onClick:e=>{e.preventDefault(),e.stopPropagation(),r()},alt:s.formatMessage({defaultMessage:"Preview of {fileName}",id:"djtHiJ5aej"},{fileName:t.file_name}),onDragStart:e=>e.preventDefault(),className:"block w-full max-h-[calc(100vh-4rem)]"})}),(0,i.jsx)("div",{style:{textShadow:"0 0 8px hsl(var(--always-black)/25%)"},className:"pt-1.5 text-center text-always-white",children:t.file_name})]})]})},p=s.q.div(h())},32846:function(e,t,n){n.d(t,{i:function(){return l}});var r=n(27573),i=n(52939),s=n(78278),a=n(40950),o=n(45790);function l(e){let{isOpen:t,setIsOpen:n,documentFile:l}=e,c=(0,a.Z)();return(0,r.jsx)(i.u_,{isOpen:t,hasCloseButton:!0,title:l.file_name,onClose:()=>n(!1),children:(0,r.jsxs)("a",{className:"self-center group text-center",href:"".concat(l.document_asset.url,"/").concat(l.file_name),target:"_blank",children:[(0,r.jsxs)("div",{className:"w-fit rounded-lg relative m-2 mt-8",children:[(0,r.jsx)("img",{className:"bg-always-white rounded-lg border border-border-300 group-hover:border-accent-secondary-000/70 shadow-sm group-hover:-rotate-1 transition",alt:c.formatMessage({defaultMessage:"{fileName} thumbnail",id:"1bEhiGnHtL"},{fileName:l.file_name}),src:l.thumbnail_asset.url,style:{width:l.thumbnail_asset.image_width/1.5,height:l.thumbnail_asset.image_height/1.5}}),(0,r.jsx)("div",{className:"absolute w-full h-full inset-0 group-hover:bg-gradient-to-t from-accent-secondary-200/5 to-60% group-hover:-rotate-1 transition rounded-lg"}),(0,r.jsx)(e=>{let{pageCount:t}=e;return t<=1?null:(0,r.jsxs)("div",{className:"*:absolute *:w-full *:bg-always-white *:rounded-lg *:group-hover:border-accent-secondary-100/50 *:transition-all *:border *:border-border-300",children:[(0,r.jsx)("div",{className:"h-[98%] ml-1 group-hover:ml-[5px] group-hover:rotate-2 -z-10 shadow-sm top-[1%] opacity-70"}),(0,r.jsx)("div",{className:"h-[96%] ml-2 group-hover:ml-[10px] group-hover:rotate-3 group-hover:top-[2%]  -z-20 shadow top-[2%] opacity-50"})]})},{pageCount:l.document_asset.page_count})]}),(0,r.jsxs)("div",{className:"relative text-center inline-flex items-center justify-center text-pretty gap-2 p-1 text-sm text-text-300 *:transition",children:[(0,r.jsx)("p",{className:"group-hover:opacity-0 group-hover:scale-75",children:(0,r.jsx)(o.Z,{defaultMessage:"{count, plural, one {# page} other {# pages}}",id:"RyCW0gT/7M",values:{count:l.document_asset.page_count}})}),(0,r.jsxs)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 inline-flex items-center justify-center gap-1 text-accent-secondary-000",children:[(0,r.jsx)(s.b,{size:16,weight:"fill",className:"scale-50 group-hover:scale-100 transition-all "}),(0,r.jsx)("p",{children:(0,r.jsx)(o.Z,{defaultMessage:"Download",id:"5q3qC0sC3r"})})]})]})]})})}},2130:function(e,t,n){n.d(t,{G:function(){return s}});var r=n(27573),i=n(45790);function s(e){return{title:(()=>{if("html"===e.file_type){let t=e.extracted_content.match(/<title>(.*?)<\/title>/);return t?t[1]:e.file_name}return"paste.txt"===e.file_name?(0,r.jsx)(i.Z,{defaultMessage:"Pasted content",id:"okKwHjIO0b"}):e.file_name})(),metaData:(()=>{var t;let n=(0,r.jsx)(i.Z,{defaultMessage:"{count, plural, one {# line} other {# lines}}",id:"AFTxeGB4qO",values:{count:e.extracted_content.split("\n").length}}),s=(t=e.file_size)<1048576?(0,r.jsx)(i.Z,{defaultMessage:"{size} KB",id:"/hgypvsrtJ",description:"File size in kilobytes",values:{size:(t/1024).toFixed(2)}}):(0,r.jsx)(i.Z,{defaultMessage:"{size} MB",id:"8amcCGO7ya",description:"File size in megabytes",values:{size:(t/1048576).toFixed(2)}});if("html"===e.file_type){let t=e.file_name,i=e.file_name.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\\/\n?]+)/gim);return i&&(t=i[0].replace("www.","")),(0,r.jsxs)("span",{children:[n,"\xa0",(0,r.jsx)("span",{className:"opacity-50 mx-1",children:"•"}),t]})}return(0,r.jsxs)("span",{children:[s,"\xa0",(0,r.jsx)("span",{className:"opacity-50 mx-1",children:"•"}),n]})})()}}},96070:function(e,t,n){n.d(t,{a:function(){return s},b:function(){return i}});var r=n(14448);let i=()=>{let{value:e}=(0,r.F)("cheerios");return e||""},s=()=>{let{value:e}=(0,r.F)("cardamom_enabled");return e||""}},6766:function(e,t,n){n.d(t,{M:function(){return l}});var r=n(14448),i=n(5068),s=n(7653),a=n(28266),o=n(76220);let l=()=>{let e="sticky-model-selector",{value:t}=(0,r.F)("sticky_model_selector"),{value:n}=(0,r.F)("model_selector_enabled"),{activeModelOptions:l}=(0,o.u)(),c=(0,a.wN)(null),d=(0,i.useQuery)({queryKey:[e],queryFn:()=>{if(!t||!n)return null;let r=localStorage.getItem(e);return r===c?null:r&&l.find(e=>e.model===r)?r:null},initialData:null}),u=(0,s.useCallback)(t=>{t&&localStorage.setItem(e,t),d.refetch()},[d]);return{stickyModelPreference:d.data,setStickyModelPreference:u}}},3053:function(e,t,n){n.d(t,{YZ:function(){return h},q$:function(){return g},z$:function(){return m}});var r=n(30947),i=n(14448),s=n(7653),a=n(77879),o=n(5362),l=n(8571),c=n(50862),d=n(27218),u=n(91447);let f={snippets_command_used:{version:1},file_upload_too_large:{version:1},sse_interrupted:{version:1},snippets_suggestion_selected:{version:1},payment_modal_open:{version:1},pro_waitlist_requested:{version:1},payment_state_poll_for_invoice:{version:1},payment_state_poll_for_payment:{version:1},payment_state_poll_for_capability:{version:1},payment_state_payment_requires_confirmation:{version:1},payment_state_payment_failed:{version:1},payment_state_success:{version:1},payment_state_timed_out:{version:1},"onboarding.phone_verification.start":{version:1},"onboarding.phone_verification.sent_code":{version:1},"onboarding.phone_verification.invalid_code":{version:1},"onboarding.phone_verification.verified_code":{version:1},"onboarding.age_verification.start":{version:1},"onboarding.age_verification.complete":{version:1},"onboarding.name_input.started":{version:1},"onboarding.name_input.finished":{version:1},"onboarding.acceptable_use.started":{version:1},"onboarding.acceptable_use.finished":{version:1},"onboarding.disclaimers.started":{version:1},"onboarding.disclaimers.finished":{version:1},"onboarding.completed":{version:1},"extended_onboarding.started":{version:1},"extended_onboarding.disclaimer.completed":{version:1},"extended_onboarding.name_input.completed":{version:1},"extended_onboarding.work_function.completed":{version:1},"extended_onboarding.topics.completed":{version:1},"extended_onboarding.example_prompts.completed":{version:1},"extended_onboarding.completed":{version:1},"pro_subscription.upgraded_to_annual":{version:1},"chat.conversation.too_long_prompt:loaded":{version:1},"chat.conversation.too_long_prompt:accepted":{version:1},"chat.conversation.too_long_prompt:dismissed":{version:1},"chat.conversation.too_long_prompt_warning:loaded":{version:1},"chat.conversation.too_long_prompt_warning:accepted":{version:1},"chat.conversation.too_long_prompt_warning:dismissed":{version:1},"chat.share.button.clicked":{version:1},"chat.share.modal.share_button.clicked":{version:1},"chat.share.modal.unshare_button.clicked":{version:1},"chat.share.open_link.clicked":{version:1},"chat.share.copy_link.clicked":{version:1},"ts.eu_election_banner.shown":{version:1,data_team_tag:"ts"},"ts.banner.shown":{version:1,data_team_tag:"ts"},"billing.credit_card.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.contact_sales.completed":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.contact_sales.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.payment_info.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.payment_info.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.setup_billing.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.setup_billing.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.ts_questionnaire.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.ts_questionnaire.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.ts_questionnaire_manual.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.select_plan.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.select_plan.completed":{version:1,data_team_tag:"billing_funnel"},"console.feedback.opened":{version:1},"console.feedback.submitted":{version:1},"evals.revision.created":{version:1},"evals.show_prompt_preview.toggled":{version:1},"evals.show_golden_answers.toggled":{version:1},"evals.run_all.submitted":{version:1},"evals.run_all.stopped":{version:1},"evals.test_case.run.submitted":{version:1},"evals.test_case.run.completed":{version:1},"evals.test_case.run.failed":{version:1},"evals.test_case.create.submitted":{version:1},"evals.test_case.delete.submitted":{version:1},"evals.select_revision.clicked":{version:1},"evals.test_case.update_rating.submitted":{version:1},"evals.test_case.import.show_modal.clicked":{version:1},"evals.test_case.import.browse.clicked":{version:1},"evals.test_case.import.success":{version:1},"evals.comparison.add_button.clicked":{version:1},"evals.comparison.remove_button.clicked":{version:1},"evals.comparison.other_revision.selected":{version:1},"test_case_generator.generate.started":{version:1},"test_case_generator.edit_logic.clicked":{version:1},"metaprompter.modal.loaded":{version:2},"metaprompter.example.selected":{version:1},"metaprompter.generate.started":{version:1},"metaprompter.generate.stop.attempted":{version:1},"metaprompter.generate.finished":{version:1},"metaprompter.start_editing.clicked":{version:1},"onboarding.invite_accept_page.invite_accept.submitted":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.invite_accept_page.invite_reject.submitted":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.invite_accept_page.loaded":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.organization_create.loaded":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.organization_create.submitted":{version:1,data_team_tag:"onboarding_funnel"},"workbench.prompt.new":{version:1},"workbench.completion.started":{version:2},"workbench.completion.finished":{version:2},"workbench.completion_stream.started":{version:1},"workbench.completion_stream.finished":{version:1},"workbench.tab_selection.clicked":{version:1},"workbench.variables_pane.loaded":{version:1},"workbench.examples.pane.loaded":{version:1},"workbench.examples.example.added":{version:2},"workbench.examples.example.deleted":{version:1},"workbench.examples.converted_to_raw_text":{version:1},"workbench.code_modal.opened":{version:1},"workbench.code_modal.code_copied":{version:1},"claudeai.projects.list_view.switched":{version:1},"claudeai.artifacts.execution.error":{version:1},"claudeai.conversation.suggestion.applied":{version:1},"claudeai.conversation.recent.opened":{version:1},"claudeai.projects.activity.shared_conversation.opened":{version:1},"claudeai.projects.project_starter.clicked":{version:1},"claudeai.projects.chat_starter.clicked":{version:1},"claudeai.conversation.artifact.vscode_exported":{version:1},"claudeai.settings.preview_feature.toggled":{version:1},"claudeai.settings.preview_feature.opened":{version:1},"claudeai.support.opened":{version:1},"claudeai.get_help.clicked":{version:1},"claudeai.conversation.feedback.sent":{version:1},"claudeai.thinking_cell.clicked":{version:1},"ccos.chatsuggestion.clicked":{version:1},"ccos.chatsuggestions.loaded":{version:1},"ccos.chatsuggestions.feedback":{version:1},"styles.selector.clicked":{version:1},"styles.modal":{version:1},"styles.nux.create_clicked":{version:1},"styles.custom.create_clicked":{version:1},"styles.custom.describe_clicked":{version:1},"styles.custom.describe_selected":{version:1},"styles.selected":{version:1},"artifact.feedback.sentiment":{version:1},"artifact.feedback.note":{version:1},"mcp.servers.listed":{version:1},"mcp.servers.connected":{version:1},"mcp.resources.listed":{version:1},"mcp.resources.read":{version:1},"mcp.prompts.listed":{version:1},"mcp.prompts.used":{version:1},"mcp.tools.listed":{version:1},"mcp.tools.called":{version:1},"mcp.sampling.requested":{version:1},"harmony.file.saved":{version:1},"harmony.suggestion.accepted":{version:1},"harmony.suggestion.rejected":{version:1},"hfi.comparative_model.selected":{version:1},"hfi.comparative_model.selection_cleared":{version:1},"hfi.comparative_model.streaming.started":{version:1},"hfi.comparative_model.streaming.finished":{version:1},"hfi.comparative_model.feedback_bar.switch_response.clicked":{version:1},"hfi.comparative_model.feedback_bar.prefer_response.clicked":{version:1},"apps.download_button_clicked":{version:1},"apps.nudge_banner_shown":{version:1},"apps.nudge_banner_clicked":{version:1},"apps.harmony_directory_synced":{version:1},"console.onboarding.name_and_legal.loaded":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.name_and_legal.submitted":{version:1,data_team_tag:"onboarding_funnel"},"tengu.waitlist.update":{version:1},"tengu.waitlist.details":{version:1},"oauth.authorize.approved":{version:1},"oauth.authorize.denied":{version:1},"oauth.authorize.success":{version:1},"oauth.authorize.failure":{version:1},"console.onboarding.account_type.loaded":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.account_type.individual_selected":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.account_type.organization_selected":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.organization_details.loaded":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.organization_details.submitted":{version:1,data_team_tag:"onboarding_funnel"},"login.email.sending_magic_link":{version:1},"login.email.magic_link_sent":{version:1},"login.email.magic_link_send_error":{version:1},"login.email.verifying_magic_link":{version:1},"login.email.magic_link_success":{version:1},"login.email.magic_link_verification_error":{version:1},"login.email.sso_initiated":{version:1},"login.email.sso_success":{version:1},"login.email.sso_verifying_callback":{version:1},"login.email.sso_verification_error":{version:1},"login.email.verifying_code":{version:1},"login.email.code_verification_error":{version:1},"login.email.finished":{version:1},"login.google.started":{version:1},"login.google.error":{version:1},"login.google.verifying":{version:1},"login.google.verification_error":{version:1},"login.google.finished":{version:1},"landing.section.features.viewed":{version:1},"landing.section.pricing.viewed":{version:1},"claudeai.cardamom_prompts.category_displayed":{version:1},"claudeai.cardamom_prompts.prompt_displayed":{version:1},"claudeai.cardamom_prompts.prompt_used":{version:1}},m=()=>{let{analytics:e}=(0,u.K)(),{preferences:t}=(0,c.C)(),{value:n}=(0,i.F)("log_segment_events"),{value:r}=(0,i.F)("claude_ai_segment_enabled"),{value:a}=(0,i.F)("send_email_to_segment"),{account:o,activeOrganization:m,isLoading:h}=(0,d.t)(),g=(0,l.Z)(),p=(0,s.useCallback)(i=>{if(h)return;let{event_key:s,...l}=i,c={account_uuid:null==o?void 0:o.uuid,organization_uuid:null==m?void 0:m.uuid,billing_type:null==m?void 0:m.billing_type,surface:g?"claude-ai":"console",...f[s],...l},d={context:{traits:{email:a?null==o?void 0:o.email_address:null}}};if(n&&console.log("[Segment Event] ".concat(s),c,d),r&&(g||o)&&(o||t.analytics))return e.track(s,c,d)},[e,o,m,g,h,n,r,a,t.analytics]);return(0,s.useMemo)(()=>({track:p}),[p])},h=(e,t,n,i)=>{let s=m(),{onSuccess:a,onError:l,...c}=i||{};return(0,o.uC)(t,n,{onSuccess(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];s.track({event_key:e,result:"success"}),null==a||a(...n)},onError(t){let n;for(var i=arguments.length,a=Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];t instanceof r.Hx&&(n=t.type),s.track({event_key:e,result:"failure",failure_reason:n}),null==l||l(t,...a)},...c})},g=e=>{let{eventKey:t,threshold:n=.5,freezeOnceVisible:r=!0}=e,{track:i}=m(),{ref:o,isIntersecting:l}=(0,a.S1)({threshold:n,freezeOnceVisible:r});return(0,s.useEffect)(()=>{l&&i({event_key:t})},[l,i,t]),o}},50862:function(e,t,n){n.d(t,{ConsentProvider:function(){return h},C:function(){return g}});var r=n(27573),i=n(45144),s=n(7653),a=n(40287),o=n(94872),l=n(89963),c=n(6385),d=n(35919),u=n.n(d),f=n(95407);let m=(0,s.createContext)({showConsentBanner:!1,openConsentBanner:u(),preferences:f.iw,savePreferences:u()}),h=e=>{let{children:t,requiresExplicitConsent:n}=e,[d,u,h]=function(e,t){let n=(0,a.f)(),[r,o]=(0,s.useState)(()=>!!n.get(e)),[l,c]=(0,s.useState)(()=>{try{let r=n.get(e);return r?JSON.parse(r):t}catch(n){return(0,i.Tb)(n,{extra:{message:"Malformed JSON cookie",cookieKey:e}}),t}});return[l,(0,s.useCallback)(t=>{n.set(e,JSON.stringify(t)),c(t),o(!0)},[n,e]),r]}(c.cn.CONSENT_PREFERENCES,n?f.iw:f.DF),[g,p]=(0,s.useState)(n&&!h),x=(0,s.useCallback)(e=>{u(e),(0,o.HF)(e),p(!1),l.u.updateCategories(e)},[u,p]);return(0,r.jsx)(m.Provider,{value:{showConsentBanner:g,openConsentBanner:()=>p(!0),preferences:d,savePreferences:x},children:t})};function g(){return(0,s.useContext)(m)}},94872:function(e,t,n){n.d(t,{HF:function(){return s},bq:function(){return i}});var r=n(45144);let i=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];try{"function"==typeof window.gtag&&gtag(e,...n)}catch(e){(0,r.Tb)(e)}},s=e=>{i("consent","update",a(e))},a=e=>({ad_personalization:e.marketing?"granted":"denied",ad_user_data:e.marketing?"granted":"denied",ad_storage:e.marketing?"granted":"denied",analytics_storage:e.analytics?"granted":"denied",functionality_storage:"granted",personalization_storage:"granted",security_storage:"granted"})},91447:function(e,t,n){n.d(t,{K:function(){return o}});var r=n(8571),i=n(14448),s=n(7653),a=n(89963);let o=()=>{let{segmentKey:e,segmentCdnHost:t,segmentApiHost:n}=(0,r.m)(),{value:o}=(0,i.F)("requires_explicit_consent"),l=(0,s.useCallback)(()=>{a.u.reset()},[]);return{analytics:a.u.loadIfNecessary({segmentKey:e,segmentCdnHost:t,segmentApiHost:n,requiresExplicitConsent:o}),reset:l}}},35354:function(e,t,n){n.d(t,{EO:function(){return l},h7:function(){return i},rE:function(){return c}});var r,i,s=n(27573),a=n(7653);(r=i||(i={})).IDLE="IDLE",r.DRAGGING_OFF_TARGET="DRAGGING_OFF_TARGET",r.DRAGGING_ON_TARGET="DRAGGING_ON_TARGET",r.DROPPED="DROPPED";let o=(0,a.createContext)(void 0),l=()=>{let e=(0,a.useContext)(o);if(!e)throw Error("useDropZone must be used within a DropZoneProvider");return e},c=e=>{let{onDrop:t,children:n,className:r,disabled:i=!1}=e,[l,c]=(0,a.useState)("IDLE"),d=a.useRef(null),u=(0,a.useCallback)(e=>{var t;e.preventDefault(),e.stopPropagation(),(null===(t=d.current)||void 0===t?void 0:t.contains(e.target))?c("DRAGGING_ON_TARGET"):c("DRAGGING_OFF_TARGET")},[]),f=(0,a.useCallback)(e=>{var t;e.preventDefault(),e.stopPropagation(),(null===(t=d.current)||void 0===t?void 0:t.contains(e.relatedTarget))||e.target!==document.body&&null!==e.relatedTarget||c("IDLE")},[]),m=(0,a.useCallback)(e=>{var t;(null===(t=d.current)||void 0===t?void 0:t.contains(e.target))||(e.preventDefault(),c("IDLE"))},[]),h=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),t(e),c("DROPPED"),setTimeout(()=>{c("IDLE")},500)},[t]);return(0,a.useEffect)(()=>{if(!i)return document.body.addEventListener("dragover",u),document.body.addEventListener("dragleave",f),document.body.addEventListener("drop",m),()=>{document.body.removeEventListener("dragover",u),document.body.removeEventListener("dragleave",f),document.body.removeEventListener("drop",m)};c("IDLE")},[u,f,m,h,i]),(0,s.jsx)(o.Provider,{value:{dragState:l,setDragState:c},children:(0,s.jsx)("div",{ref:d,className:r,onDrop:i?void 0:h,children:n})})}},45033:function(e,t,n){n.d(t,{A2:function(){return C},AZ:function(){return N},HF:function(){return y},Lt:function(){return p},Vy:function(){return _},WR:function(){return k},YG:function(){return x},hP:function(){return w},nI:function(){return j},u2:function(){return E}});var r=n(56683),i=n(27573),s=n(9788),a=n(49002);function o(){let e=(0,r._)(["\n  outline-none\n  py-2\n  px-1.5\n  -mx-1\n  -mt-1\n  mb-1\n  border-b-0.5\n  border-border-300\n"]);return o=function(){return e},e}function l(){let e=(0,r._)(["\n  z-dropdown\n  bg-bg-000\n  border-0.5\n  border-border-300\n  backdrop-blur-xl\n  rounded-lg\n  min-w-[8rem]\n  overflow-hidden\n  p-1\n  text-text-300\n  shadow-diffused \n  shadow-[hsl(var(--always-black)/4%)]\n"]);return l=function(){return e},e}function c(){let e=(0,r._)(["\n  rounded\n  py-1\n  px-2\n  max-w-full\n  whitespace-nowrap\n  text-ellipsis\n  overflow-hidden\n  outline-none\n  ring-offset-2\n  ring-offset-bg-300\n  ring-accent-main-100\n  focus-visible:outline-none\n  focus-visible:ring-1\n  focus:backdrop-blur-xl\n  hover:backdrop-blur-xl\n  hover:bg-bg-400/50\n"]);return c=function(){return e},e}function d(){let e=(0,r._)(["text-text-500 pt-1 px-2"]);return d=function(){return e},e}function u(){let e=(0,r._)(["\n  py-1\n  px-2\n  rounded-md\n  cursor-pointer\n  whitespace-nowrap\n  overflow-hidden\n  text-ellipsis\n  grid\n  grid-cols-[minmax(0,_1fr)_auto]\n  gap-2\n  items-center\n  outline-none\n  select-none\n  [&[data-highlighted]]:bg-bg-200\n  [&[data-highlighted]]:text-text-300\n  ","\n"]);return u=function(){return e},e}function f(){let e=(0,r._)(["\n  py-1\n  px-2\n  rounded-md\n  whitespace-nowrap\n  overflow-hidden\n  text-ellipsis\n  flex\n  justify-between\n  gap-2\n  items-center\n"]);return f=function(){return e},e}function m(){let e=(0,r._)(["\n  py-1\n  px-2\n  rounded\n  cursor-pointer\n  whitespace-nowrap\n  overflow-hidden\n  text-ellipsis\n  grid\n  grid-cols-[minmax(0,_1fr)_auto]\n  gap-2\n  items-center\n  outline-none\n  select-none\n  [&[data-highlighted]]:bg-bg-200\n  [&[data-highlighted]]:text-text-300\n"]);return m=function(){return e},e}function h(){let e=(0,r._)(["\n  z-dropdown\n  bg-bg-000\n  border-0.5\n  border-border-300\n  backdrop-blur-xl\n  rounded-lg\n  min-w-[8rem]\n  overflow-hidden\n  p-1\n  text-text-300\n  shadow-diffused \n  shadow-[hsl(var(--always-black)/4%)]\n"]);return h=function(){return e},e}function g(){let e=(0,r._)(["\n  h-[0.5px]\n  bg-border-300\n  m-1\n"]);return g=function(){return e},e}function p(e){var t;let{trigger:n,children:r,unstyledTrigger:s=!1,matchTriggerWidth:o=!1,open:l,onOpenChange:c,...d}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(a.fC,{open:l,onOpenChange:c,children:[s?(0,i.jsx)(a.xz,{asChild:!0,children:n}):(0,i.jsx)(b,{asChild:!0,children:n}),(0,i.jsx)(a.Uv,{children:(0,i.jsx)(v,{style:o?{width:"var(--radix-dropdown-menu-trigger-width)"}:void 0,sideOffset:null!==(t=d.sideOffset)&&void 0!==t?t:4,...d,children:r})})]})})}n(7653);let x=(0,s.q)(a.Ju)(o()),v=(0,s.q)(a.VY)(l()),b=(0,s.q)(a.xz)(c());a.Qk;let _=a.Tr,j=a.Uv,y=(0,s.q)(a.Ju)(d()),w=(0,s.q)(a.ck)(u(),e=>{let{disabled:t}=e;return t&&"\n    opacity-50\n    pointer-events-none\n  "}),N=s.q.div(f()),k=(0,s.q)(a.fF)(m()),C=(0,s.q)(a.tu)(h()),E=(0,s.q)(a.VD)(g())},60949:function(e,t,n){n.d(t,{g:function(){return o}});var r=n(27573),i=n(26824),s=n(85689),a=n(10607);let o=(0,n(7653).forwardRef)((e,t)=>{let{checkState:n,onClick:o,label:l,...c}=e,d="partial"===n?i.W:s.J;return(0,r.jsxs)("div",{className:"p-2 -m-2 flex items-center",onClick:e=>{e.stopPropagation(),o({didCheck:"unchecked"===n})},children:[(0,r.jsx)("button",{ref:t,className:(0,a.Z)("rounded p-[0.5px] border-0.5 flex items-center justify-center transition","unchecked"!==n?"bg-accent-secondary-000 border-accent-secondary-200 shadow-sm":"border-border-200 hover:bg-bg-000 hover:shadow-sm"),...c,children:(0,r.jsx)(d,{className:(0,a.Z)("text-always-white transition",{invisible:"unchecked"===n}),weight:"bold",size:14})}),l&&(0,r.jsx)("span",{className:"ml-2 cursor-pointer",children:l})]})});o.displayName="PartialCheckbox"},10571:function(e,t,n){n.d(t,{g:function(){return c},r:function(){return u}});var r=n(56683),i=n(27573),s=n(9788),a=n(10607),o=n(45790);function l(){let e=(0,r._)(["\n  relative\n  bg-text-500/50\n  overflow-hidden\n  after:absolute\n  after:inset-0\n  after:translate-x-[-100%]\n  after:bg-gradient-to-r after:from-always-white/0 after:from-0% after:via-always-white/20 after:via-50% after:to-100% after:to-always-white/0\n  after:animate-[shimmer_1.5s_infinite]\n"]);return l=function(){return e},e}function c(e){let{className:t,height:n=24,width:r,rounded:s=!0}=e;return(0,i.jsx)(d,{className:(0,a.Z)(t,s&&"rounded-full"),style:{height:n,width:r||"100%"},children:(0,i.jsx)("span",{className:"sr-only",children:(0,i.jsx)(o.Z,{defaultMessage:"Loading...",id:"gjBiyjshwX"})})})}let d=s.q.div(l());function u(e){let{className:t,height:n=24,width:r,rounded:s=!0}=e;return(0,i.jsx)("div",{className:(0,a.Z)(t,s&&"rounded-full","bg-text-500/50"),style:{height:n,width:r||"100%"},children:(0,i.jsx)("span",{className:"sr-only",children:(0,i.jsx)(o.Z,{defaultMessage:"Loading...",id:"gjBiyjshwX"})})})}},49167:function(e,t,n){n.d(t,{$:function(){return c}});var r=n(56683),i=n(27573),s=n(47190),a=n(9788),o=n(7653);function l(){let e=(0,r._)(["",""]);return l=function(){return e},e}let c=e=>{let{hideBottomShadow:t,scrollContainerRef:n,persistedScrollToRef:r,...s}=e,a=(null==r?void 0:r.current)!==void 0,l=(0,o.useRef)(null),c=n||l,u=(0,o.useCallback)(()=>{let e=c.current;if(e&&!t){let{scrollTop:t,offsetHeight:n,scrollHeight:i}=e;t+n>=i?e.classList.remove("has-bottom-scroll"):e.classList.add("has-bottom-scroll"),a&&0!==t&&Math.abs(t-r.current)>10&&(r.current=t)}},[t,c,a,r]);return u(),(0,o.useEffect)(()=>{let e=c.current;requestAnimationFrame(()=>{a&&e&&(null==e||e.scrollTo({top:r.current,behavior:"instant"}))})},[c,a,r]),(0,o.useEffect)(()=>{let e=c.current;return null==e||e.addEventListener("scroll",u),()=>null==e?void 0:e.removeEventListener("scroll",u)},[u,c]),(0,i.jsx)(d,{ref:c,...s,children:s.children})},d=a.q.div(l(),s.X)},44512:function(e,t,n){n.d(t,{nh:function(){return o},pp:function(){return a},xK:function(){return s}});var r=n(40287),i=n(7653);let s=()=>{let[e,t]=(0,i.useState)(!document.hidden);return(0,i.useEffect)(()=>{let e=()=>t(!document.hidden);return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[]),e},a=e=>{let{shouldFocus:t,target:n,delayMs:r=100}=e;(0,i.useEffect)(()=>{if(t&&n){let e=setTimeout(()=>{var e;null===(e=n.current)||void 0===e||e.focus()},r);return()=>clearTimeout(e)}},[t,n,r])},o=(e,t)=>{let n=(0,r.f)(),s=n.get(e),[a,o]=(0,i.useState)(void 0!==s?"true"===s:t);return[a,(0,i.useCallback)(t=>{o(r=>{let i="function"==typeof t?t(r):t;return n.set(e,i.toString()),i})},[n,e])]}},84464:function(e,t,n){n.d(t,{e:function(){return r}});let r=e=>{if(!e.preview_asset)return!1;let{image_width:t,image_height:n}=e.preview_asset;return t<200||n<200}},1133:function(e,t,n){n.d(t,{ED:function(){return l},V5:function(){return a},ZQ:function(){return u},r3:function(){return d},tq:function(){return i}});var r=n(7653);function i(){return window.innerWidth<640}let s=/(macintosh|macintel|macppc|mac68k|macos)/i;function a(){let e=window.navigator.userAgent.toLowerCase();return s.test(e)}let o=/(win32|win64|windows|wince)/i;function l(){let e=window.navigator.userAgent.toLowerCase();return o.test(e)}let c=/(iphone|ipad|ipod|android|mobile|webos)/i;function d(){let e=window.navigator.userAgent.toLowerCase();return c.test(e)}function u(e){(0,r.useEffect)(()=>{let t=document.title;return e&&(document.title="".concat(e," - Claude")),()=>{document.title=t}},[e])}},53949:function(e,t,n){var r,i;n.d(t,{Y:function(){return r}}),(i=r||(r={})).Image="image",i.Blob="blob",i.SanitizedDocument="document"},13890:function(e,t,n){n.d(t,{X_:function(){return a},ir:function(){return i},p5:function(){return s}});var r=n(10228);let i=e=>e===r.co.ACCESS_DENIED||e===r.co.UNAUTHENTICATED||e===r.co.DISABLED,s="Your organization has turned off this integration. Please contact your administrator to re-enable.",a={[r.Fg.GDRIVE]:"Google",[r.Fg.GITHUB]:"GitHub",[r.Fg.OUTLINE]:"Outline",[r.Fg.SALESFORCE]:"Salesforce",[r.Fg.GMAIL]:"Gmail",[r.Fg.GCAL]:"Google Calendar",[r.Fg.SLACK]:"Slack",[r.Fg.ASANA]:"Asana"}}}]);